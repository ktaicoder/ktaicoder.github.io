---
date: '2022-06-07'
thumbnail: thumbnail.jpg
title: 코디니팩의 파이썬 개발 환경
description: 코디니팩에서 파이썬 개발 환경을 설명합니다
---

# 코디니팩의 파이썬 예제9

<MdxTextBox>
    <Box sx={{ color: 'secondary.main', fontWeight: 600, mb: 1 }}>이 문서는 과거 버전의 파이썬 예제입니다.</Box>
    <ul>
        <li>2022년 11월 22일 새로운 파이썬 예제를 제공중입니다.</li>
        <li>새로운 파이썬 예제에서는 API 키를 발급받을 필요가 없어서 더 쉽습니다.</li>
        <li>[새로운 파이썬 예제 보기](/post-frame/codingpack-how-to-inside-python-ex0)</li>
    </ul>
    과거 버전의 파이썬 예제는 오래된 인공지능 서버에 연결합니다. 아직 이용할 수는 있으나, 오래된 인공지능 서버를 계속
    유지할 수가 없어서, 과거 버전의 파이썬 예제는 곧 지원이 중지될 예정입니다.
</MdxTextBox>

<MdxTextBox>
    <Box sx={{ color: 'secondary.main', fontWeight: 600, mb: 1 }}>
        이 문서는 <b>코디니팩 파이썬 예제9</b>의 소스코드와 실행화면입니다.
    </Box>
</MdxTextBox>

## 예제9 버튼 음성인식 대화 결합 예제

-   예제9는 호출어 대신 버튼을 눌러서 음성 질의를 하는 결합 예제입니다.

    <MdxImageView src="/images/codinypack-py/ex9_out2.png" caption="아케이드 스위치 누르기" />

## 예제9 소스코드

-   아래는 `/home/pi/ai-makers-kit/python3/ex9_btnSttDss.py` 파일입니다.

```python
#!/usr/bin/env python
# -*- coding: utf-8 -*-

"""
Date:2019.02.18
Example 9: 버튼 음성인식 대화 결합 예제
"""

from __future__ import print_function
import ex1_kwstest as kws
import ex4_getText2VoiceStream as tts
import ex6_queryVoice as dss
import MicrophoneStream as MS
import time

def main():
    #Example8 Button+STT+DSS
    KWSID = ['기가지니', '지니야', '친구야', '자기야']
    while 1:
        recog = kws.btn_test(KWSID[0])
        if recog == 200:
            print('KWS Dectected ...\n Start STT...')
            text = dss.queryByVoice()
            if text == '':
                print('질의한 내용이 없습니다.')
            else:
                MS.play_file("result_mesg.wav")
            #time.sleep(2)
        else:
            print('KWS Not Dectected ...')

if __name__ == '__main__':
    main()

```

## 실행

-   아래와 같이 실행하세요.

```bash
$ python3.7 ex9_btnSttDss.py
```

-   아래는 터미널에서 실행한 모습입니다.
    1.  버튼을 눌러 호출어가 인식된 것으로 처리한 후에,
    1.  STT로 질의할 음성을 말하고,
    1.  음성을 텍스트로 변환하여 질의합니다.
-   이 과정을 무한 반복합니다.

    <MdxImageView src="/images/codinypack-py/ex9_out1.png" caption="예제 실행" />

<PyGinsideLimit />

    <PyExampleLinkBox exampleId="ex9" />

End.
