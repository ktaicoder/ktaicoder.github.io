<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="initial-scale=1, width=device-width"/><title>PC 프로그램 하드웨어 데이터 수신 | AI 코디니 사용자 가이드</title><link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png"/><link rel="manifest" href="/favicon/site.webmanifest"/><link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#5bbad5"/><link rel="shortcut icon" href="/favicon/favicon.ico"/><meta name="msapplication-TileColor" content="#00a300"/><meta name="msapplication-config" content="/favicon/browserconfig.xml"/><meta name="theme-color" content="#fff"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><meta property="og:url" content="https://ktaicoder.github.io/post/hw-pc-dev-how-to-hw-data-recv"/><meta property="og:type" content="article"/><meta property="og:site_name" content="AI 코디니 사용자 가이드"/><meta property="og:title" content="PC 프로그램 하드웨어 데이터 수신"/><meta property="og:image" content="https://ktaicoder.github.io/assets/card-image.webp"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content="@ktaicoder"/><meta name="description" content="PC 프로그램에서 하드웨어로부터 데이터를 수신하는 방법을 설명합니다"/><meta property="og:description" content="PC 프로그램에서 하드웨어로부터 데이터를 수신하는 방법을 설명합니다"/><meta name="next-head-count" content="22"/><meta name="theme-color" content="#007FFF"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="crossOrigin"/><link rel="stylesheet" data-href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&amp;family=Do+Hyeon&amp;family=Jua&amp;family=Nanum+Gothic+Coding:wght@400;700&amp;family=Nanum+Pen+Script&amp;family=Noto+Sans+KR:wght@300;400;500;700;900&amp;display=swap"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/069ff64b07ed1af4.css" as="style"/><link rel="stylesheet" href="/_next/static/css/069ff64b07ed1af4.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script defer="" src="/_next/static/chunks/669.9908fa9e3b1547ca.js"></script><script defer="" src="/_next/static/chunks/254.62555addc868e65e.js"></script><script defer="" src="/_next/static/chunks/693.ff6763142defb6eb.js"></script><script src="/_next/static/chunks/webpack-c79807b210cacc3b.js" defer=""></script><script src="/_next/static/chunks/framework-bb5c596eafb42b22.js" defer=""></script><script src="/_next/static/chunks/main-5dc3bdee87ff18dd.js" defer=""></script><script src="/_next/static/chunks/pages/_app-e532b1d3eaf6a772.js" defer=""></script><script src="/_next/static/chunks/152-b45757b9176f674c.js" defer=""></script><script src="/_next/static/chunks/pages/post/%5Bslug%5D-98f90594b8673cf2.js" defer=""></script><script src="/_next/static/yPdhSZvqJBcscIzCwc_Yd/_buildManifest.js" defer=""></script><script src="/_next/static/yPdhSZvqJBcscIzCwc_Yd/_ssgManifest.js" defer=""></script><script src="/_next/static/yPdhSZvqJBcscIzCwc_Yd/_middlewareManifest.js" defer=""></script><style data-emotion="css-global 0"></style><style data-emotion="css-global 16knkyz">html{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;box-sizing:border-box;-webkit-text-size-adjust:100%;}*,*::before,*::after{box-sizing:inherit;}strong,b{font-weight:700;}body{margin:0;color:rgba(0, 0, 0, 0.87);font-family:'Noto Sans KR','sans-serif','Do Hyeon','Nanum Gothic Coding','Black Han Sans','Jua','Nanum Pen Script';font-weight:400;font-size:0.95rem;line-height:1.45rem;background-color:#fff;}@media print{body{background-color:#fff;}}body::backdrop{background-color:#fff;}</style><style data-emotion="css 101a7fp y6u5hx 15a4kdj 5s182b jtju8m">.css-101a7fp{color:#111827;overflow:hidden;padding-bottom:80px;padding-top:24px;font-size:1rem;}.css-101a7fp h1:not(.MuiTypography-root){font-size:1.65rem;font-weight:900;line-height:2.8rem;margin-bottom:32px;padding-bottom:8px;padding-left:0px;text-align:center;border-bottom:1px solid #ccc;}.css-101a7fp h2:not(.MuiTypography-root){font-size:1.45rem;line-height:2rem;font-weight:700;margin-top:32px;margin-bottom:8px;}.css-101a7fp h3:not(.MuiTypography-root){font-size:1.2rem;font-weight:600;margin-left:2px;color:#000;margin-top:32px;margin-bottom:8px;}.css-101a7fp h4:not(.MuiTypography-root){margin-top:24px;margin-bottom:8px;color:#111;font-size:1.10rem;font-weight:600;}.css-101a7fp h5:not(.MuiTypography-root){margin:0px;margin-top:8px;color:#333;font-size:1.0rem;font-weight:600;}.css-101a7fp h6:not(.MuiTypography-root){margin:0px;margin-top:8px;color:#444;font-size:0.95rem;font-weight:600;line-height:1.9rem;}.css-101a7fp>article>p:not(.MuiTypography-root){margin:0px;color:#444;margin-top:0.5rem;margin-bottom:0.5rem;font-size:0.95rem;font-weight:400;line-height:1.45rem;}.css-101a7fp>pre{overflow:auto;position:relative;word-wrap:break-word;}.css-101a7fp pre{background-color:#1f2937;font-family:'Noto Sans KR','Nanum Gothic Coding',ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;margin-bottom:16px;}.css-101a7fp :not(pre)>code{background-color:transparent;position:relative;color:#000;font-weight:600;padding-left:0.4em;padding-right:0.4em;font-family:'Noto Sans KR','Nanum Gothic Coding',ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:85%;line-height:1.5;word-break:break-word;white-space:nowrap;}.css-101a7fp :not(pre)>code::before{position:absolute;content:"";top:-2px;right:0;left:0;bottom:-2px;z-index:0;border-radius:6px;background:rgba(175,183,193,0.2);padding:0.2em 0.4em;}.css-101a7fp pre>code{padding:0px;color:inherit;background:inherit;white-space:pre;font-family:'Nanum Gothic Coding',ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;}.css-101a7fp ul>li,.css-101a7fp ol>li{line-height:1.7rem;}.css-101a7fp ul>li+li,.css-101a7fp ol>li+li{margin-top:4px;}.css-101a7fp ul{margin-top:0.5em;margin-bottom:0.25em;}.css-101a7fp ul ul{margin-top:0.3em;margin-bottom:0.25em;}.css-101a7fp p{margin-top:0.7em;margin-bottom:0.25em;}.css-101a7fp table{display:block;border-collapse:collapse;border-spacing:0;width:-webkit-max-content;width:-moz-max-content;width:max-content;max-width:100%;overflow:auto;margin-top:0px;margin-bottom:16px;}.css-101a7fp table>thead{display:table-header-group;vertical-align:middle;}.css-101a7fp table>thead>tr{background-color:#e1e6ec;}.css-101a7fp table>tbody{display:table-header-group;}.css-101a7fp table>tbody>tr:nth-child(even){background-color:#f6f8fa;}.css-101a7fp table tr{display:table-row;vertical-align:middle;outline:0;background-color:#fff;border-top:1px solid #d0d7de;}.css-101a7fp table tr td,.css-101a7fp table tr th{display:table-cell;cursor:default;padding:12px 14px;color:rgb(54,54,54);font-size:0.85rem;line-height:1.5;letter-spacing:-0.04px;border:1px solid #d0d7de;text-align:left;}.css-101a7fp article.mdx-article{max-width:0;margin-left:auto;margin-right:auto;}.css-y6u5hx{position:relative;width:auto;max-width:calc(100vw - 0px);overflow-x:hidden;}.css-15a4kdj{display:none;max-width:840px;margin-left:auto;margin-right:auto;}.css-5s182b{display:block;background:#eee;padding-left:24px;padding-right:24px;padding-top:16px;padding-bottom:16px;margin-top:16px;margin-bottom:16px;border-radius:8px;}.css-5s182b>ul{padding-left:16px;padding-right:0px;}.css-5s182b>em{position:relative;color:#19857b;font-style:normal;font-weight:700;display:inline-block;padding-left:2px;padding-right:2px;margin-right:2px;line-height:1.05em;}.css-5s182b>em::before{content:"";position:absolute;z-index:100;top:-2px;left:-2px;right:-2px;bottom:-2px;background:rgba(0,0,0, 0.1);border-radius:4px;}.css-jtju8m{color:#19857b;font-weight:600;}</style><style data-href="https://fonts.googleapis.com/icon?family=Material+Icons">@font-face{font-family:'Material Icons';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/materialicons/v140/flUhRq6tzZclQEJ-Vdg-IuiaDsNa.woff) format('woff')}.material-icons{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;font-feature-settings:'liga'}@font-face{font-family:'Material Icons';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/materialicons/v140/flUhRq6tzZclQEJ-Vdg-IuiaDsNcIhQ8tQ.woff2) format('woff2')}.material-icons{font-family:'Material Icons';font-weight:normal;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:'liga';-webkit-font-smoothing:antialiased}</style><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Black+Han+Sans&family=Do+Hyeon&family=Jua&family=Nanum+Gothic+Coding:wght@400;700&family=Nanum+Pen+Script&family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap"/></head><body><div id="__next" data-reactroot=""><div class="MdxPostLayout-root MuiBox-root css-0"><div class="MuiBox-root css-101a7fp"><div class="MuiBox-root css-y6u5hx"><div class="MuiBox-root css-15a4kdj"><article class="mdx-article MuiBox-root css-0"><h1 id="pc-프로그램-하드웨어-데이터-수신"><a class="anchor" href="#pc-프로그램-하드웨어-데이터-수신"><span class="icon icon-link"></span></a>PC 프로그램 하드웨어 데이터 수신</h1>
<div class="MuiBox-root css-5s182b"><div class="MuiBox-root css-jtju8m">이 문서는 2023년 3월 14일에 작성되었습니다.</div></div>
<p>PC 프로그램에서 하드웨어로부터 데이터를 수신하는 소스 코드 작성법을 설명합니다.</p>
<h2 id="개요"><a class="anchor" href="#개요"><span class="icon icon-link"></span></a>개요</h2>
<p>수신된 데이터는 기본적으로 연속적인 형태입니다. 연속적인 바이트 스트림을 본인이 원하는 방식으로 잘라서 활용해야 합니다.</p>
<p>하드웨어로부터 수신된 데이터를 파싱하는 방법에 대해서 나열해보겠습니다.</p>
<ol>
<li>수신된 데이터들이 경계선 구분자(<code>delimiter</code>)로 분류하는 형태</li>
<li>수신된 데이터들이 시작문자와 종료문자를 가진 형태</li>
<li>특정 길이 단위로 구분되는 데이터 형태</li>
<li>커스텀한 파싱이 필요한 형태</li>
</ol>
<p>기타 다양하게 데이터를 파싱하는 상황이 있겠습니다만,
<code>파서를 이용</code>하여 처리하는 것을 권장합니다.</p>
<ul>
<li>시리얼 포트로부터 전달된 데이터 스트림에 파서를 연결하여</li>
<li>파서로부터 하나씩 꺼내서 데이터를 처리할 수 있습니다.</li>
<li>이때 NodeJS의 스트림 API를 활용합니다.</li>
</ul>
<h2 id="파서-예제"><a class="anchor" href="#파서-예제"><span class="icon icon-link"></span></a>파서 예제</h2>
<p><code>serialport</code> 라이브러리 사이트에는 10가지 정도의 잘 만들어진 파서가 이미 있습니다.</p>
<p><a href="https://serialport.io/docs/api-parsers-overview">https://serialport.io/docs/api-parsers-overview</a></p>
<p>그리고 현재 PC 프로그램에 포함되어 있는, <code>다른 하드웨어들이 사용중인 파서</code>를 참고하는 것도 좋을 것 같습니다.</p>
<h3 id="예제-1번---wisexboard-하드웨어"><a class="anchor" href="#예제-1번---wisexboard-하드웨어"><span class="icon icon-link"></span></a>예제 1번 - wiseXboard 하드웨어</h3>
<ul>
<li><code>wiseXboard</code> 하드웨어는 <code>DelimiterParser</code>를 사용하고 있습니다.</li>
<li><code>DelimiterParser</code>는 <a href="https://serialport.io/docs/api-parser-delimiter">@serialport/parser-delimiter</a> 라이브러리를 사용했습니다.</li>
<li>아래 소스코드에서 <code>DelimiterParser</code> 부분을 살펴보세요.</li>
</ul>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token comment">// file: src/custom/hw/wiseXboard/openDevice.ts</span>
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">openDevice</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token maybe-class-name">ISerialDeviceOpenParams</span></span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token maybe-class-name">SerialDevice</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> serialPortPath<span class="token punctuation">,</span> uiLogger <span class="token punctuation">}</span> <span class="token operator">=</span> params
</span><span class="code-line">    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token constant">DEBUG_TAG</span><span class="token punctuation">,</span> <span class="token string">&#x27;openDevice()&#x27;</span><span class="token punctuation">,</span> serialPortPath<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 시리얼 디바이스 생성, 시리얼포트를 감싸는 객체입니다.</span>
</span><span class="code-line">    <span class="token comment">// 실제 serial port의 상태를 관리하고, UI에 로그를 전송합니다.</span>
</span><span class="code-line">    <span class="token keyword">const</span> device <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SerialDevice</span><span class="token punctuation">(</span><span class="token constant">DEBUG_TAG</span><span class="token punctuation">,</span> uiLogger<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 시리얼 포트 생성</span>
</span><span class="code-line">    <span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SerialPort</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token literal-property property">path</span><span class="token operator">:</span> serialPortPath<span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token literal-property property">baudRate</span><span class="token operator">:</span> <span class="token number">38400</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token literal-property property">autoOpen</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// autoOpen은 반드시 false</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// RX 데이터 파서</span>
</span><span class="code-line">    <span class="token keyword">const</span> parser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DelimiterParser</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token literal-property property">delimiter</span><span class="token operator">:</span> <span class="token maybe-class-name">Buffer</span><span class="token punctuation">.</span><span class="token keyword module">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0x52</span><span class="token punctuation">,</span> <span class="token number">0x58</span><span class="token punctuation">,</span> <span class="token number">0x3d</span><span class="token punctuation">,</span> <span class="token number">0x0</span><span class="token punctuation">,</span> <span class="token number">0x0e</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 구분 문자</span>
</span><span class="code-line">        <span class="token literal-property property">includeDelimiter</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 시리얼 디바이스 열기</span>
</span><span class="code-line">    device<span class="token punctuation">.</span><span class="token method function property-access">open</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> parser<span class="token punctuation">)</span> <span class="token comment">// 시리얼포트+파서</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// open 중인 상태의 SerialDevice를 리턴합니다.</span>
</span><span class="code-line">    <span class="token keyword control-flow">return</span> device
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<p>위의 예제에서는 <code>includeDelimiter:false</code>로 설정했으므로, 패킷을 읽을 때 구분 문자는 제거하고 읽어져서 개발이 편리합니다.</p>
<h4 id="읽는-함수-readnext_"><a class="anchor" href="#읽는-함수-readnext_"><span class="icon icon-link"></span></a>읽는 함수 <code>readNext_()</code></h4>
<p>위와 같이 오픈한 wiseXboard에서 데이터를 읽는 방법은 아래와 같습니다.
데이터를 읽을 때는 <code>readNext_()</code> 함수로 읽을 수 있습니다.
파서가 없어도 <code>readNext_()</code>로 읽습니다.</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">class</span> <span class="token class-name">WiseXboardControl</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractHwConrtol</span> <span class="token keyword">implements</span> <span class="token class-name">IWiseXboardControl</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token comment">// ...</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token doc-comment comment">/**
</span></span><span class="code-line"><span class="token doc-comment comment">     * 주어진 pin 번호의 아날로그 값을 읽기
</span></span><span class="code-line"><span class="token doc-comment comment">     */</span>
</span><span class="code-line">    analogRead <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>ctx<span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token literal-property property">pin</span><span class="token operator">:</span> number<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token known-class-name class-name">Promise</span><span class="token operator">&lt;</span>number<span class="token operator">&gt;</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">const</span> values <span class="token operator">=</span> <span class="token keyword control-flow">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">readNext_</span><span class="token punctuation">(</span>ctx<span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token keyword">const</span> v <span class="token operator">=</span> values<span class="token punctuation">[</span>pin <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span>
</span><span class="code-line">        <span class="token keyword control-flow">return</span> v
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// ...</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<h4 id="추가-설명"><a class="anchor" href="#추가-설명"><span class="icon icon-link"></span></a>추가 설명</h4>
<ul>
<li><code>this.readNext_()</code> 함수는 <code>WiseXboardControl</code> 클래스가 상속하고 있는 <code>AbstractHwConrtol</code> 클래스에 구현되어 있습니다.
따라서 다른 하드웨어에서도 동일하게 사용할 수 있는 함수입니다.</li>
<li><code>this.readNext_()</code> 함수는 내부적으로, <code>openDevice()</code> 함수가 리턴한 SerialDevice 객체를 이용해서 시리얼 포트로부터 값을 읽습니다.</li>
</ul>
<h3 id="예제-2번---altinolite-자체-제작한-파서"><a class="anchor" href="#예제-2번---altinolite-자체-제작한-파서"><span class="icon icon-link"></span></a>예제 2번 - altinoLite, 자체 제작한 파서</h3>
<p><code>saeonAltinoLite</code> 하드웨어는 자체 제작한 파서를 사용하고 있습니다.</p>
<p>아래의 <code>openDevice()</code> 함수에서 <code>AltinoLiteParser</code> 부분을 살펴보세요.</p>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">openDevice</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token maybe-class-name">ISerialDeviceOpenParams</span></span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token maybe-class-name">SerialDevice</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> serialPortPath<span class="token punctuation">,</span> uiLogger <span class="token punctuation">}</span> <span class="token operator">=</span> params
</span><span class="code-line">    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token constant">DEBUG_TAG</span><span class="token punctuation">,</span> <span class="token string">&#x27;openDevice()&#x27;</span><span class="token punctuation">,</span> serialPortPath<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 시리얼 디바이스 생성, 시리얼포트를 감싸는 객체입니다.</span>
</span><span class="code-line">    <span class="token comment">// 실제 serial port의 상태를 관리하고, UI에 로그를 전송합니다.</span>
</span><span class="code-line">    <span class="token keyword">const</span> device <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SerialDevice</span><span class="token punctuation">(</span><span class="token constant">DEBUG_TAG</span><span class="token punctuation">,</span> uiLogger<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 시리얼 포트 생성</span>
</span><span class="code-line">    <span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SerialPort</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token literal-property property">path</span><span class="token operator">:</span> serialPortPath<span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token literal-property property">baudRate</span><span class="token operator">:</span> <span class="token number">115200</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token literal-property property">autoOpen</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// autoOpen은 반드시 false</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// RX 데이터 파서</span>
</span><span class="code-line">    <span class="token keyword">const</span> parser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AltinoLiteParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 자체 제작한 파서입니다.</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 시리얼 디바이스 열기</span>
</span><span class="code-line">    device<span class="token punctuation">.</span><span class="token method function property-access">open</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> parser<span class="token punctuation">)</span> <span class="token comment">// 시리얼포트+자체 제작한 파서</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// open 중인 상태의 SerialDevice를 리턴합니다.</span>
</span><span class="code-line">    <span class="token keyword control-flow">return</span> device
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<h4 id="자체-제작한-파서의-소스코드"><a class="anchor" href="#자체-제작한-파서의-소스코드"><span class="icon icon-link"></span></a>자체 제작한 파서의 소스코드</h4>
<p>자체 제작한 파서인 <code>AltinoLiteParser</code>의 소스코드가 길지 않으므로 여기에 적어보겠습니다.</p>
<ul>
<li>커스텀 파서는 <code>Transform</code> 클래스를 상속해서 <code>_transform()</code> 함수를 구현하면 됩니다.</li>
<li>아래 코드에서 구지 파싱 로직을 분석하기 보다는 <code>_transform()</code> 함수만 구현하면 된다는 것만 기억하면 좋을 것 같습니다.</li>
</ul>
<pre class="language-js"><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">Transform</span><span class="token punctuation">,</span> <span class="token maybe-class-name">TransformCallback</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;stream&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token constant">LOG_TAG</span> <span class="token operator">=</span> <span class="token string">&#x27;AltinoLiteParser&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token doc-comment comment">/**
</span></span><span class="code-line"><span class="token doc-comment comment"> * AltinoLiteParser입니다
</span></span><span class="code-line"><span class="token doc-comment comment"> * 지정된 패킷 크기의 시작/종료 마크를 찾아서 패킷을 전송합니다.
</span></span><span class="code-line"><span class="token doc-comment comment"> * Transform 클래스를 상속합니다
</span></span><span class="code-line"><span class="token doc-comment comment"> */</span>
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">class</span> <span class="token class-name">AltinoLiteParser</span> <span class="token keyword">extends</span> <span class="token class-name">Transform</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token comment">// 중개 버퍼</span>
</span><span class="code-line">  <span class="token keyword">private</span> <span class="token literal-property property">buffer</span><span class="token operator">:</span> <span class="token maybe-class-name">Buffer</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 중개 버퍼에 채워진 바이트수</span>
</span><span class="code-line">  <span class="token keyword">private</span> bufferByteCount <span class="token operator">=</span> <span class="token number">0</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 시작 마크</span>
</span><span class="code-line">  <span class="token keyword">private</span> startMark <span class="token operator">=</span> <span class="token number">0x02</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 종료 마크</span>
</span><span class="code-line">  <span class="token keyword">private</span> endMark <span class="token operator">=</span> <span class="token number">0x03</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// 22바이트를 채워서 보냅니다</span>
</span><span class="code-line">  <span class="token keyword">private</span> packetLength <span class="token operator">=</span> <span class="token number">22</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token constant">LOG_TAG</span><span class="token punctuation">,</span> <span class="token string">&#x27;constructor()&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">buffer</span> <span class="token operator">=</span> <span class="token maybe-class-name">Buffer</span><span class="token punctuation">.</span><span class="token method function property-access">alloc</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">packetLength</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">bufferByteCount</span> <span class="token operator">=</span> <span class="token number">0</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token function">_transform</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">chunk</span><span class="token operator">:</span> <span class="token maybe-class-name">Buffer</span><span class="token punctuation">,</span> <span class="token literal-property property">_encoding</span><span class="token operator">:</span> <span class="token maybe-class-name">BufferEncoding</span><span class="token punctuation">,</span> <span class="token literal-property property">callback</span><span class="token operator">:</span> <span class="token maybe-class-name">TransformCallback</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword control-flow">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> chunk<span class="token punctuation">.</span><span class="token property-access">length</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">bufferByteCount</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">const</span> byte <span class="token operator">=</span> chunk<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
</span><span class="code-line">        <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>byte <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">startMark</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">buffer</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> byte
</span><span class="code-line">          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">bufferByteCount</span> <span class="token operator">=</span> <span class="token number">1</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">        <span class="token keyword control-flow">continue</span>
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token keyword">const</span> byte <span class="token operator">=</span> chunk<span class="token punctuation">[</span>i<span class="token punctuation">]</span>
</span><span class="code-line">      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">buffer</span><span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">bufferByteCount</span><span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> byte
</span><span class="code-line">
</span><span class="code-line">      <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">bufferByteCount</span> <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">packetLength</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>byte <span class="token operator">===</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">endMark</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token method function property-access">push</span><span class="token punctuation">(</span><span class="token maybe-class-name">Buffer</span><span class="token punctuation">.</span><span class="token keyword module">from</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">buffer</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">          <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">bufferByteCount</span> <span class="token operator">=</span> <span class="token number">0</span>
</span><span class="code-line">        <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token constant">LOG_TAG</span><span class="token punctuation">,</span> <span class="token string">&#x27;end-mark mismatch&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">          <span class="token keyword">const</span> idx <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">buffer</span><span class="token punctuation">.</span><span class="token method function property-access">indexOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">startMark</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span>
</span><span class="code-line">          <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>idx <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">            <span class="token keyword">const</span> tmpBuf <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">buffer</span><span class="token punctuation">.</span><span class="token method function property-access">subarray</span><span class="token punctuation">(</span>idx<span class="token punctuation">)</span>
</span><span class="code-line">            tmpBuf<span class="token punctuation">.</span><span class="token method function property-access">copy</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">buffer</span><span class="token punctuation">)</span>
</span><span class="code-line">            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">bufferByteCount</span> <span class="token operator">=</span> tmpBuf<span class="token punctuation">.</span><span class="token property-access">byteLength</span>
</span><span class="code-line">          <span class="token punctuation">}</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span></code></pre>
<h2 id="serialport-라이브러리의-다른-파서들"><a class="anchor" href="#serialport-라이브러리의-다른-파서들"><span class="icon icon-link"></span></a><code>serialport</code> 라이브러리의 다른 파서들</h2>
<p><code>serialport</code> 라이브러리에서 제공하는 여러가지 유용한 파서들이 있습니다.</p>
<ol>
<li><a href="https://serialport.io/docs/api-parser-byte-length">@serialport/parser-byte-length</a></li>
<li><a href="https://serialport.io/docs/api-parser-cctalk">@serialport/parser-cctalk</a></li>
<li><a href="https://serialport.io/docs/api-parser-delimiter">@serialport/parser-delimiter</a></li>
<li><a href="https://serialport.io/docs/api-parser-inter-byte-timeout">@serialport/parser-inter-byte-timeout</a></li>
<li><a href="https://serialport.io/docs/api-parser-packet-length">@serialport/parser-packet-length</a></li>
<li><a href="https://serialport.io/docs/api-parser-readline">@serialport/parser-readline</a></li>
<li><a href="https://serialport.io/docs/api-parser-ready">@serialport/parser-ready</a></li>
<li><a href="https://serialport.io/docs/api-parser-regex">@serialport/parser-regex</a></li>
<li><a href="https://serialport.io/docs/api-parser-slip-encoder">@serialport/parser-slip-encoder</a></li>
<li><a href="https://serialport.io/docs/api-parser-spacepacket">@serialport/parser-spacepacket</a></li>
</ol>
<p>위의 소스코드는 모두 공개되어 있습니다. 정확히 원하는 파서가 없더라도, 조금 수정하여 원하는 것을 만들기에 좋습니다.</p>
<h2 id="어썸-하드웨어에-파서-연결하기"><a class="anchor" href="#어썸-하드웨어에-파서-연결하기"><span class="icon icon-link"></span></a>어썸 하드웨어에 파서 연결하기</h2>
<p>이전에 살펴보았던 어썸 하드웨어에
<code>DelimiterParser</code>를 연결해보겠습니다.</p>
<pre class="language-javascript"><code class="language-javascript code-highlight"><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">DelimiterParser</span><span class="token punctuation">,</span> <span class="token maybe-class-name">SerialPort</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;serialport&#x27;</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">ISerialDeviceOpenParams</span><span class="token punctuation">,</span> <span class="token maybe-class-name">ISerialPortInfo</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;src/custom-types&#x27;</span>
</span><span class="code-line"><span class="token keyword module">import</span> <span class="token imports"><span class="token punctuation">{</span> <span class="token maybe-class-name">SerialDevice</span> <span class="token punctuation">}</span></span> <span class="token keyword module">from</span> <span class="token string">&#x27;src/hw-server/serialport/SerialDevice&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// 디버깅용 로그 태그</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token constant">DEBUG_TAG</span> <span class="token operator">=</span> <span class="token string">&#x27;awesome&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token doc-comment comment">/**
</span></span><span class="code-line"><span class="token doc-comment comment"> * 지원하는 시리얼포트 여부 체크
</span></span><span class="code-line"><span class="token doc-comment comment"> *
</span></span><span class="code-line"><span class="token doc-comment comment"> * <span class="token keyword">@param</span> <span class="token parameter">portInfo</span> 포트 정보
</span></span><span class="code-line"><span class="token doc-comment comment"> * <span class="token keyword">@returns</span> 지원하는 포트라면 true를 리턴
</span></span><span class="code-line"><span class="token doc-comment comment"> */</span>
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">isPortMatch</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">port</span><span class="token operator">:</span> <span class="token maybe-class-name">ISerialPortInfo</span></span><span class="token punctuation">)</span><span class="token operator">:</span> boolean <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token comment">// const { manufacturer, productId, vendorId } = port</span>
</span><span class="code-line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> manufacturer <span class="token operator">=</span> <span class="token string">&#x27;&#x27;</span> <span class="token punctuation">}</span> <span class="token operator">=</span> port
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// silicon labs(CP210)만 허용</span>
</span><span class="code-line">    <span class="token keyword">const</span> matched <span class="token operator">=</span> manufacturer<span class="token punctuation">.</span><span class="token method function property-access">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">indexOf</span><span class="token punctuation">(</span><span class="token string">&#x27;silicon labs&#x27;</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">0</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token keyword control-flow">return</span> matched
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token doc-comment comment">/**
</span></span><span class="code-line"><span class="token doc-comment comment"> * 시리얼 디바이스 오픈
</span></span><span class="code-line"><span class="token doc-comment comment"> * open 중인 상태의 SerialDevice를 리턴합니다.
</span></span><span class="code-line"><span class="token doc-comment comment"> *
</span></span><span class="code-line"><span class="token doc-comment comment"> * 연결이 되기를 기다리려면
</span></span><span class="code-line"><span class="token doc-comment comment"> * await device.waitUntilOpen()
</span></span><span class="code-line"><span class="token doc-comment comment"> *
</span></span><span class="code-line"><span class="token doc-comment comment"> * <span class="token keyword">@param</span> <span class="token parameter">serialPortPath</span> 시리얼포트 Path, ex) COM1, /dev/ttyUSB0
</span></span><span class="code-line"><span class="token doc-comment comment"> * <span class="token keyword">@param</span> <span class="token parameter">uiLogger</span> UI 콘솔 로거, 사용자 화면에 로깅 메시지를 표시합니다
</span></span><span class="code-line"><span class="token doc-comment comment"> * <span class="token keyword">@returns</span> SerialDevice
</span></span><span class="code-line"><span class="token doc-comment comment"> */</span>
</span><span class="code-line"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function">openDevice</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token maybe-class-name">ISerialDeviceOpenParams</span></span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token maybe-class-name">SerialDevice</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> serialPortPath<span class="token punctuation">,</span> uiLogger <span class="token punctuation">}</span> <span class="token operator">=</span> params
</span><span class="code-line">    <span class="token console class-name">console</span><span class="token punctuation">.</span><span class="token method function property-access">log</span><span class="token punctuation">(</span><span class="token constant">DEBUG_TAG</span><span class="token punctuation">,</span> <span class="token string">&#x27;openDevice()&#x27;</span><span class="token punctuation">,</span> serialPortPath<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 시리얼 디바이스 생성, 시리얼포트를 감싸는 객체입니다.</span>
</span><span class="code-line">    <span class="token comment">// 실제 serial port의 상태를 관리하고, UI에 로그를 전송합니다.</span>
</span><span class="code-line">    <span class="token keyword">const</span> device <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SerialDevice</span><span class="token punctuation">(</span><span class="token constant">DEBUG_TAG</span><span class="token punctuation">,</span> uiLogger<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 시리얼 포트 생성</span>
</span><span class="code-line">    <span class="token keyword">const</span> port <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SerialPort</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token literal-property property">path</span><span class="token operator">:</span> serialPortPath<span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token literal-property property">baudRate</span><span class="token operator">:</span> <span class="token number">38400</span><span class="token punctuation">,</span>
</span><span class="code-line">        <span class="token literal-property property">autoOpen</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// autoOpen은 반드시 false</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// RX 데이터 파서</span>
</span><span class="code-line">    <span class="token keyword">const</span> parser <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DelimiterParser</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token literal-property property">delimiter</span><span class="token operator">:</span> <span class="token maybe-class-name">Buffer</span><span class="token punctuation">.</span><span class="token keyword module">from</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0x52</span><span class="token punctuation">,</span> <span class="token number">0x58</span><span class="token punctuation">,</span> <span class="token number">0x3d</span><span class="token punctuation">,</span> <span class="token number">0x0</span><span class="token punctuation">,</span> <span class="token number">0x0e</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// 구분 문자</span>
</span><span class="code-line">        <span class="token literal-property property">includeDelimiter</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// 시리얼 디바이스 열기</span>
</span><span class="code-line">    device<span class="token punctuation">.</span><span class="token method function property-access">open</span><span class="token punctuation">(</span>port<span class="token punctuation">,</span> parser<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// open 중인 상태의 SerialDevice를 리턴합니다.</span>
</span><span class="code-line">    <span class="token keyword control-flow">return</span> device
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre>
<h2 id="요약"><a class="anchor" href="#요약"><span class="icon icon-link"></span></a>요약</h2>
<p>요약하면,</p>
<ul>
<li>파싱이 필요하다면, <code>openDevice()</code> 함수에서 파서를 등록하기</li>
<li><code>readNext_()</code>로 파싱된 결과물 읽기</li>
<li>파서가 없는 경우 <code>readNext_()</code>는 시리얼포트로부터 직접 읽습니다.</li>
<li><code>serialport</code> 사이트에서 제공하는 여러 파서들을 활용하거나</li>
<li>다른 하드웨어의 파서를 복사해서 사용하세요.</li>
</ul>
<h2 id="다음-단계"><a class="anchor" href="#다음-단계"><span class="icon icon-link"></span></a>다음 단계</h2>
<ul>
<li>시리얼포트에 데이터를 수신하는 코드 작성법을 살펴보았습니다.</li>
<li>소스코드는 모두 공개되어 있으니 참고하시기 바랍니다.</li>
<li>다음 <code>블록 공작소 연동</code> 문서를 읽어주세요.</li>
</ul></article></div></div></div></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"title":"PC 프로그램 하드웨어 데이터 수신","date":"2023-03-14T00:00:00.000Z","description":"PC 프로그램에서 하드웨어로부터 데이터를 수신하는 방법을 설명합니다","body":{"raw":"\n# PC 프로그램 하드웨어 데이터 수신\n\n\u003cMdxTextBox\u003e\n    \u003cBox sx={{ color: 'secondary.main', fontWeight: 600 }}\u003e이 문서는 2023년 3월 14일에 작성되었습니다.\u003c/Box\u003e\n\u003c/MdxTextBox\u003e\n\nPC 프로그램에서 하드웨어로부터 데이터를 수신하는 소스 코드 작성법을 설명합니다.\n\n## 개요\n\n수신된 데이터는 기본적으로 연속적인 형태입니다. 연속적인 바이트 스트림을 본인이 원하는 방식으로 잘라서 활용해야 합니다.\n\n하드웨어로부터 수신된 데이터를 파싱하는 방법에 대해서 나열해보겠습니다.\n\n1. 수신된 데이터들이 경계선 구분자(`delimiter`)로 분류하는 형태\n1. 수신된 데이터들이 시작문자와 종료문자를 가진 형태\n1. 특정 길이 단위로 구분되는 데이터 형태\n1. 커스텀한 파싱이 필요한 형태\n\n기타 다양하게 데이터를 파싱하는 상황이 있겠습니다만,\n`파서를 이용`하여 처리하는 것을 권장합니다.\n\n-   시리얼 포트로부터 전달된 데이터 스트림에 파서를 연결하여\n-   파서로부터 하나씩 꺼내서 데이터를 처리할 수 있습니다.\n-   이때 NodeJS의 스트림 API를 활용합니다.\n\n## 파서 예제\n\n`serialport` 라이브러리 사이트에는 10가지 정도의 잘 만들어진 파서가 이미 있습니다.\n\nhttps://serialport.io/docs/api-parsers-overview\n\n그리고 현재 PC 프로그램에 포함되어 있는, `다른 하드웨어들이 사용중인 파서`를 참고하는 것도 좋을 것 같습니다.\n\n### 예제 1번 - wiseXboard 하드웨어\n\n-   `wiseXboard` 하드웨어는 `DelimiterParser`를 사용하고 있습니다.\n-   `DelimiterParser`는 [@serialport/parser-delimiter](https://serialport.io/docs/api-parser-delimiter) 라이브러리를 사용했습니다.\n-   아래 소스코드에서 `DelimiterParser` 부분을 살펴보세요.\n\n```javascript\n// file: src/custom/hw/wiseXboard/openDevice.ts\nexport function openDevice(params: ISerialDeviceOpenParams): SerialDevice {\n    const { serialPortPath, uiLogger } = params\n    console.log(DEBUG_TAG, 'openDevice()', serialPortPath)\n\n    // 시리얼 디바이스 생성, 시리얼포트를 감싸는 객체입니다.\n    // 실제 serial port의 상태를 관리하고, UI에 로그를 전송합니다.\n    const device = new SerialDevice(DEBUG_TAG, uiLogger)\n\n    // 시리얼 포트 생성\n    const port = new SerialPort({\n        path: serialPortPath,\n        baudRate: 38400,\n        autoOpen: false, // autoOpen은 반드시 false\n    })\n\n    // RX 데이터 파서\n    const parser = new DelimiterParser({\n        delimiter: Buffer.from([0x52, 0x58, 0x3d, 0x0, 0x0e]), // 구분 문자\n        includeDelimiter: false,\n    })\n\n    // 시리얼 디바이스 열기\n    device.open(port, parser) // 시리얼포트+파서\n\n    // open 중인 상태의 SerialDevice를 리턴합니다.\n    return device\n}\n```\n\n위의 예제에서는 `includeDelimiter:false`로 설정했으므로, 패킷을 읽을 때 구분 문자는 제거하고 읽어져서 개발이 편리합니다.\n\n#### 읽는 함수 `readNext_()`\n\n위와 같이 오픈한 wiseXboard에서 데이터를 읽는 방법은 아래와 같습니다.\n데이터를 읽을 때는 `readNext_()` 함수로 읽을 수 있습니다.\n파서가 없어도 `readNext_()`로 읽습니다.\n\n```javascript\nexport class WiseXboardControl extends AbstractHwConrtol implements IWiseXboardControl {\n    // ...\n\n    /**\n     * 주어진 pin 번호의 아날로그 값을 읽기\n     */\n    analogRead = async (ctx: any, pin: number): Promise\u003cnumber\u003e =\u003e {\n        const values = await this.readNext_(ctx)\n        const v = values[pin - 1]\n        return v\n    }\n\n    // ...\n}\n```\n\n#### 추가 설명\n\n-   `this.readNext_()` 함수는 `WiseXboardControl` 클래스가 상속하고 있는 `AbstractHwConrtol` 클래스에 구현되어 있습니다.\n    따라서 다른 하드웨어에서도 동일하게 사용할 수 있는 함수입니다.\n-   `this.readNext_()` 함수는 내부적으로, `openDevice()` 함수가 리턴한 SerialDevice 객체를 이용해서 시리얼 포트로부터 값을 읽습니다.\n\n### 예제 2번 - altinoLite, 자체 제작한 파서\n\n`saeonAltinoLite` 하드웨어는 자체 제작한 파서를 사용하고 있습니다.\n\n아래의 `openDevice()` 함수에서 `AltinoLiteParser` 부분을 살펴보세요.\n\n```js\nexport function openDevice(params: ISerialDeviceOpenParams): SerialDevice {\n    const { serialPortPath, uiLogger } = params\n    console.log(DEBUG_TAG, 'openDevice()', serialPortPath)\n\n    // 시리얼 디바이스 생성, 시리얼포트를 감싸는 객체입니다.\n    // 실제 serial port의 상태를 관리하고, UI에 로그를 전송합니다.\n    const device = new SerialDevice(DEBUG_TAG, uiLogger)\n\n    // 시리얼 포트 생성\n    const port = new SerialPort({\n        path: serialPortPath,\n        baudRate: 115200,\n        autoOpen: false, // autoOpen은 반드시 false\n    })\n\n    // RX 데이터 파서\n    const parser = new AltinoLiteParser() // 자체 제작한 파서입니다.\n\n    // 시리얼 디바이스 열기\n    device.open(port, parser) // 시리얼포트+자체 제작한 파서\n\n    // open 중인 상태의 SerialDevice를 리턴합니다.\n    return device\n}\n```\n\n#### 자체 제작한 파서의 소스코드\n\n자체 제작한 파서인 `AltinoLiteParser`의 소스코드가 길지 않으므로 여기에 적어보겠습니다.\n\n-   커스텀 파서는 `Transform` 클래스를 상속해서 `_transform()` 함수를 구현하면 됩니다.\n-   아래 코드에서 구지 파싱 로직을 분석하기 보다는 `_transform()` 함수만 구현하면 된다는 것만 기억하면 좋을 것 같습니다.\n\n```js\nimport { Transform, TransformCallback } from 'stream'\n\nconst LOG_TAG = 'AltinoLiteParser'\n\n/**\n * AltinoLiteParser입니다\n * 지정된 패킷 크기의 시작/종료 마크를 찾아서 패킷을 전송합니다.\n * Transform 클래스를 상속합니다\n */\nexport class AltinoLiteParser extends Transform {\n  // 중개 버퍼\n  private buffer: Buffer\n\n  // 중개 버퍼에 채워진 바이트수\n  private bufferByteCount = 0\n\n  // 시작 마크\n  private startMark = 0x02\n\n  // 종료 마크\n  private endMark = 0x03\n\n  // 22바이트를 채워서 보냅니다\n  private packetLength = 22\n\n  constructor() {\n    super()\n    console.log(LOG_TAG, 'constructor()')\n    this.buffer = Buffer.alloc(this.packetLength, 0)\n    this.bufferByteCount = 0\n  }\n\n  _transform(chunk: Buffer, _encoding: BufferEncoding, callback: TransformCallback) {\n    for (let i = 0; i \u003c chunk.length; i++) {\n      if (this.bufferByteCount === 0) {\n        const byte = chunk[i]\n        if (byte === this.startMark) {\n          this.buffer[0] = byte\n          this.bufferByteCount = 1\n        }\n        continue\n      }\n\n      const byte = chunk[i]\n      this.buffer[this.bufferByteCount++] = byte\n\n      if (this.bufferByteCount === this.packetLength) {\n        if (byte === this.endMark) {\n          this.push(Buffer.from(this.buffer))\n          this.bufferByteCount = 0\n        } else {\n          console.log(LOG_TAG, 'end-mark mismatch')\n          const idx = this.buffer.indexOf(this.startMark, 1)\n          if (idx \u003e 0) {\n            const tmpBuf = this.buffer.subarray(idx)\n            tmpBuf.copy(this.buffer)\n            this.bufferByteCount = tmpBuf.byteLength\n          }\n        }\n      }\n    }\n    callback()\n  }\n}\n\n```\n\n## `serialport` 라이브러리의 다른 파서들\n\n`serialport` 라이브러리에서 제공하는 여러가지 유용한 파서들이 있습니다.\n\n1.  [@serialport/parser-byte-length](https://serialport.io/docs/api-parser-byte-length)\n1.  [@serialport/parser-cctalk](https://serialport.io/docs/api-parser-cctalk)\n1.  [@serialport/parser-delimiter](https://serialport.io/docs/api-parser-delimiter)\n1.  [@serialport/parser-inter-byte-timeout](https://serialport.io/docs/api-parser-inter-byte-timeout)\n1.  [@serialport/parser-packet-length](https://serialport.io/docs/api-parser-packet-length)\n1.  [@serialport/parser-readline](https://serialport.io/docs/api-parser-readline)\n1.  [@serialport/parser-ready](https://serialport.io/docs/api-parser-ready)\n1.  [@serialport/parser-regex](https://serialport.io/docs/api-parser-regex)\n1.  [@serialport/parser-slip-encoder](https://serialport.io/docs/api-parser-slip-encoder)\n1.  [@serialport/parser-spacepacket](https://serialport.io/docs/api-parser-spacepacket)\n\n위의 소스코드는 모두 공개되어 있습니다. 정확히 원하는 파서가 없더라도, 조금 수정하여 원하는 것을 만들기에 좋습니다.\n\n## 어썸 하드웨어에 파서 연결하기\n\n이전에 살펴보았던 어썸 하드웨어에\n`DelimiterParser`를 연결해보겠습니다.\n\n```javascript\nimport { DelimiterParser, SerialPort } from 'serialport'\nimport { ISerialDeviceOpenParams, ISerialPortInfo } from 'src/custom-types'\nimport { SerialDevice } from 'src/hw-server/serialport/SerialDevice'\n\n// 디버깅용 로그 태그\nconst DEBUG_TAG = 'awesome'\n\n/**\n * 지원하는 시리얼포트 여부 체크\n *\n * @param portInfo 포트 정보\n * @returns 지원하는 포트라면 true를 리턴\n */\nexport function isPortMatch(port: ISerialPortInfo): boolean {\n    // const { manufacturer, productId, vendorId } = port\n    const { manufacturer = '' } = port\n\n    // silicon labs(CP210)만 허용\n    const matched = manufacturer.toLowerCase().indexOf('silicon labs') \u003e= 0\n\n    return matched\n}\n\n/**\n * 시리얼 디바이스 오픈\n * open 중인 상태의 SerialDevice를 리턴합니다.\n *\n * 연결이 되기를 기다리려면\n * await device.waitUntilOpen()\n *\n * @param serialPortPath 시리얼포트 Path, ex) COM1, /dev/ttyUSB0\n * @param uiLogger UI 콘솔 로거, 사용자 화면에 로깅 메시지를 표시합니다\n * @returns SerialDevice\n */\nexport function openDevice(params: ISerialDeviceOpenParams): SerialDevice {\n    const { serialPortPath, uiLogger } = params\n    console.log(DEBUG_TAG, 'openDevice()', serialPortPath)\n\n    // 시리얼 디바이스 생성, 시리얼포트를 감싸는 객체입니다.\n    // 실제 serial port의 상태를 관리하고, UI에 로그를 전송합니다.\n    const device = new SerialDevice(DEBUG_TAG, uiLogger)\n\n    // 시리얼 포트 생성\n    const port = new SerialPort({\n        path: serialPortPath,\n        baudRate: 38400,\n        autoOpen: false, // autoOpen은 반드시 false\n    })\n\n    // RX 데이터 파서\n    const parser = new DelimiterParser({\n        delimiter: Buffer.from([0x52, 0x58, 0x3d, 0x0, 0x0e]), // 구분 문자\n        includeDelimiter: false,\n    })\n\n    // 시리얼 디바이스 열기\n    device.open(port, parser)\n\n    // open 중인 상태의 SerialDevice를 리턴합니다.\n    return device\n}\n```\n\n## 요약\n\n요약하면,\n\n-   파싱이 필요하다면, `openDevice()` 함수에서 파서를 등록하기\n-   `readNext_()`로 파싱된 결과물 읽기\n-   파서가 없는 경우 `readNext_()`는 시리얼포트로부터 직접 읽습니다.\n-   `serialport` 사이트에서 제공하는 여러 파서들을 활용하거나\n-   다른 하드웨어의 파서를 복사해서 사용하세요.\n\n## 다음 단계\n\n-   시리얼포트에 데이터를 수신하는 코드 작성법을 살펴보았습니다.\n-   소스코드는 모두 공개되어 있으니 참고하시기 바랍니다.\n-   다음 `블록 공작소 연동` 문서를 읽어주세요.\n","code":"var Component=(()=\u003e{var m=Object.create;var o=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty;var y=(a,s)=\u003e()=\u003e(s||a((s={exports:{}}).exports,s),s.exports),f=(a,s)=\u003e{for(var c in s)o(a,c,{get:s[c],enumerable:!0})},t=(a,s,c,n)=\u003e{if(s\u0026\u0026typeof s==\"object\"||typeof s==\"function\")for(let l of N(s))!u.call(a,l)\u0026\u0026l!==c\u0026\u0026o(a,l,{get:()=\u003es[l],enumerable:!(n=h(s,l))||n.enumerable});return a};var w=(a,s,c)=\u003e(c=a!=null?m(k(a)):{},t(s||!a||!a.__esModule?o(c,\"default\",{value:a,enumerable:!0}):c,a)),b=a=\u003et(o({},\"__esModule\",{value:!0}),a);var p=y((_,i)=\u003e{i.exports=_jsx_runtime});var P={};f(P,{default:()=\u003ev,frontmatter:()=\u003eg});var e=w(p()),g={date:\"2023-03-14\",thumbnail:\"thumbnail.jpg\",title:\"PC \\uD504\\uB85C\\uADF8\\uB7A8 \\uD558\\uB4DC\\uC6E8\\uC5B4 \\uB370\\uC774\\uD130 \\uC218\\uC2E0\",description:\"PC \\uD504\\uB85C\\uADF8\\uB7A8\\uC5D0\\uC11C \\uD558\\uB4DC\\uC6E8\\uC5B4\\uB85C\\uBD80\\uD130 \\uB370\\uC774\\uD130\\uB97C \\uC218\\uC2E0\\uD558\\uB294 \\uBC29\\uBC95\\uC744 \\uC124\\uBA85\\uD569\\uB2C8\\uB2E4\"};function x(a={}){let{wrapper:s}=a.components||{};return s?(0,e.jsx)(s,Object.assign({},a,{children:(0,e.jsx)(c,{})})):c();function c(){let n=Object.assign({h1:\"h1\",a:\"a\",span:\"span\",p:\"p\",h2:\"h2\",ol:\"ol\",li:\"li\",code:\"code\",ul:\"ul\",h3:\"h3\",pre:\"pre\",h4:\"h4\"},a.components),{MdxTextBox:l,Box:r}=n;return r||d(\"Box\",!0),l||d(\"MdxTextBox\",!0),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.h1,{id:\"pc-\\uD504\\uB85C\\uADF8\\uB7A8-\\uD558\\uB4DC\\uC6E8\\uC5B4-\\uB370\\uC774\\uD130-\\uC218\\uC2E0\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#pc-\\uD504\\uB85C\\uADF8\\uB7A8-\\uD558\\uB4DC\\uC6E8\\uC5B4-\\uB370\\uC774\\uD130-\\uC218\\uC2E0\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"PC \\uD504\\uB85C\\uADF8\\uB7A8 \\uD558\\uB4DC\\uC6E8\\uC5B4 \\uB370\\uC774\\uD130 \\uC218\\uC2E0\"]}),`\n`,(0,e.jsx)(l,{children:(0,e.jsx)(r,{sx:{color:\"secondary.main\",fontWeight:600},children:\"\\uC774 \\uBB38\\uC11C\\uB294 2023\\uB144 3\\uC6D4 14\\uC77C\\uC5D0 \\uC791\\uC131\\uB418\\uC5C8\\uC2B5\\uB2C8\\uB2E4.\"})}),`\n`,(0,e.jsx)(n.p,{children:\"PC \\uD504\\uB85C\\uADF8\\uB7A8\\uC5D0\\uC11C \\uD558\\uB4DC\\uC6E8\\uC5B4\\uB85C\\uBD80\\uD130 \\uB370\\uC774\\uD130\\uB97C \\uC218\\uC2E0\\uD558\\uB294 \\uC18C\\uC2A4 \\uCF54\\uB4DC \\uC791\\uC131\\uBC95\\uC744 \\uC124\\uBA85\\uD569\\uB2C8\\uB2E4.\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\uAC1C\\uC694\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#\\uAC1C\\uC694\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uAC1C\\uC694\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\uC218\\uC2E0\\uB41C \\uB370\\uC774\\uD130\\uB294 \\uAE30\\uBCF8\\uC801\\uC73C\\uB85C \\uC5F0\\uC18D\\uC801\\uC778 \\uD615\\uD0DC\\uC785\\uB2C8\\uB2E4. \\uC5F0\\uC18D\\uC801\\uC778 \\uBC14\\uC774\\uD2B8 \\uC2A4\\uD2B8\\uB9BC\\uC744 \\uBCF8\\uC778\\uC774 \\uC6D0\\uD558\\uB294 \\uBC29\\uC2DD\\uC73C\\uB85C \\uC798\\uB77C\\uC11C \\uD65C\\uC6A9\\uD574\\uC57C \\uD569\\uB2C8\\uB2E4.\"}),`\n`,(0,e.jsx)(n.p,{children:\"\\uD558\\uB4DC\\uC6E8\\uC5B4\\uB85C\\uBD80\\uD130 \\uC218\\uC2E0\\uB41C \\uB370\\uC774\\uD130\\uB97C \\uD30C\\uC2F1\\uD558\\uB294 \\uBC29\\uBC95\\uC5D0 \\uB300\\uD574\\uC11C \\uB098\\uC5F4\\uD574\\uBCF4\\uACA0\\uC2B5\\uB2C8\\uB2E4.\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[\"\\uC218\\uC2E0\\uB41C \\uB370\\uC774\\uD130\\uB4E4\\uC774 \\uACBD\\uACC4\\uC120 \\uAD6C\\uBD84\\uC790(\",(0,e.jsx)(n.code,{children:\"delimiter\"}),\")\\uB85C \\uBD84\\uB958\\uD558\\uB294 \\uD615\\uD0DC\"]}),`\n`,(0,e.jsx)(n.li,{children:\"\\uC218\\uC2E0\\uB41C \\uB370\\uC774\\uD130\\uB4E4\\uC774 \\uC2DC\\uC791\\uBB38\\uC790\\uC640 \\uC885\\uB8CC\\uBB38\\uC790\\uB97C \\uAC00\\uC9C4 \\uD615\\uD0DC\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\uD2B9\\uC815 \\uAE38\\uC774 \\uB2E8\\uC704\\uB85C \\uAD6C\\uBD84\\uB418\\uB294 \\uB370\\uC774\\uD130 \\uD615\\uD0DC\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\uCEE4\\uC2A4\\uD140\\uD55C \\uD30C\\uC2F1\\uC774 \\uD544\\uC694\\uD55C \\uD615\\uD0DC\"}),`\n`]}),`\n`,(0,e.jsxs)(n.p,{children:[`\\uAE30\\uD0C0 \\uB2E4\\uC591\\uD558\\uAC8C \\uB370\\uC774\\uD130\\uB97C \\uD30C\\uC2F1\\uD558\\uB294 \\uC0C1\\uD669\\uC774 \\uC788\\uACA0\\uC2B5\\uB2C8\\uB2E4\\uB9CC,\n`,(0,e.jsx)(n.code,{children:\"\\uD30C\\uC11C\\uB97C \\uC774\\uC6A9\"}),\"\\uD558\\uC5EC \\uCC98\\uB9AC\\uD558\\uB294 \\uAC83\\uC744 \\uAD8C\\uC7A5\\uD569\\uB2C8\\uB2E4.\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\uC2DC\\uB9AC\\uC5BC \\uD3EC\\uD2B8\\uB85C\\uBD80\\uD130 \\uC804\\uB2EC\\uB41C \\uB370\\uC774\\uD130 \\uC2A4\\uD2B8\\uB9BC\\uC5D0 \\uD30C\\uC11C\\uB97C \\uC5F0\\uACB0\\uD558\\uC5EC\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\uD30C\\uC11C\\uB85C\\uBD80\\uD130 \\uD558\\uB098\\uC529 \\uAEBC\\uB0B4\\uC11C \\uB370\\uC774\\uD130\\uB97C \\uCC98\\uB9AC\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\uC774\\uB54C NodeJS\\uC758 \\uC2A4\\uD2B8\\uB9BC API\\uB97C \\uD65C\\uC6A9\\uD569\\uB2C8\\uB2E4.\"}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\uD30C\\uC11C-\\uC608\\uC81C\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#\\uD30C\\uC11C-\\uC608\\uC81C\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uD30C\\uC11C \\uC608\\uC81C\"]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"serialport\"}),\" \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC \\uC0AC\\uC774\\uD2B8\\uC5D0\\uB294 10\\uAC00\\uC9C0 \\uC815\\uB3C4\\uC758 \\uC798 \\uB9CC\\uB4E4\\uC5B4\\uC9C4 \\uD30C\\uC11C\\uAC00 \\uC774\\uBBF8 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"]}),`\n`,(0,e.jsx)(n.p,{children:(0,e.jsx)(n.a,{href:\"https://serialport.io/docs/api-parsers-overview\",children:\"https://serialport.io/docs/api-parsers-overview\"})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\uADF8\\uB9AC\\uACE0 \\uD604\\uC7AC PC \\uD504\\uB85C\\uADF8\\uB7A8\\uC5D0 \\uD3EC\\uD568\\uB418\\uC5B4 \\uC788\\uB294, \",(0,e.jsx)(n.code,{children:\"\\uB2E4\\uB978 \\uD558\\uB4DC\\uC6E8\\uC5B4\\uB4E4\\uC774 \\uC0AC\\uC6A9\\uC911\\uC778 \\uD30C\\uC11C\"}),\"\\uB97C \\uCC38\\uACE0\\uD558\\uB294 \\uAC83\\uB3C4 \\uC88B\\uC744 \\uAC83 \\uAC19\\uC2B5\\uB2C8\\uB2E4.\"]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\uC608\\uC81C-1\\uBC88---wisexboard-\\uD558\\uB4DC\\uC6E8\\uC5B4\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#\\uC608\\uC81C-1\\uBC88---wisexboard-\\uD558\\uB4DC\\uC6E8\\uC5B4\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uC608\\uC81C 1\\uBC88 - wiseXboard \\uD558\\uB4DC\\uC6E8\\uC5B4\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"wiseXboard\"}),\" \\uD558\\uB4DC\\uC6E8\\uC5B4\\uB294 \",(0,e.jsx)(n.code,{children:\"DelimiterParser\"}),\"\\uB97C \\uC0AC\\uC6A9\\uD558\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"DelimiterParser\"}),\"\\uB294 \",(0,e.jsx)(n.a,{href:\"https://serialport.io/docs/api-parser-delimiter\",children:\"@serialport/parser-delimiter\"}),\" \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC\\uB97C \\uC0AC\\uC6A9\\uD588\\uC2B5\\uB2C8\\uB2E4.\"]}),`\n`,(0,e.jsxs)(n.li,{children:[\"\\uC544\\uB798 \\uC18C\\uC2A4\\uCF54\\uB4DC\\uC5D0\\uC11C \",(0,e.jsx)(n.code,{children:\"DelimiterParser\"}),\" \\uBD80\\uBD84\\uC744 \\uC0B4\\uD3B4\\uBCF4\\uC138\\uC694.\"]}),`\n`]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-javascript\",children:(0,e.jsxs)(n.code,{className:\"language-javascript code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// file: src/custom/hw/wiseXboard/openDevice.ts\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"openDevice\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"params\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ISerialDeviceOpenParams\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"SerialDevice\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" serialPortPath\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" uiLogger \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),` params\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token console class-name\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"DEBUG_TAG\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'openDevice()'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" serialPortPath\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC2DC\\uB9AC\\uC5BC \\uB514\\uBC14\\uC774\\uC2A4 \\uC0DD\\uC131, \\uC2DC\\uB9AC\\uC5BC\\uD3EC\\uD2B8\\uB97C \\uAC10\\uC2F8\\uB294 \\uAC1D\\uCCB4\\uC785\\uB2C8\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC2E4\\uC81C serial port\\uC758 \\uC0C1\\uD0DC\\uB97C \\uAD00\\uB9AC\\uD558\\uACE0, UI\\uC5D0 \\uB85C\\uADF8\\uB97C \\uC804\\uC1A1\\uD569\\uB2C8\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" device \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"SerialDevice\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"DEBUG_TAG\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" uiLogger\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC2DC\\uB9AC\\uC5BC \\uD3EC\\uD2B8 \\uC0DD\\uC131\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" port \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"SerialPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"path\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" serialPortPath\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"baudRate\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"38400\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"autoOpen\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// autoOpen\\uC740 \\uBC18\\uB4DC\\uC2DC false\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// RX \\uB370\\uC774\\uD130 \\uD30C\\uC11C\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" parser \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"DelimiterParser\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"delimiter\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Buffer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"0x52\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0x58\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0x3d\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0x0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0x0e\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uAD6C\\uBD84 \\uBB38\\uC790\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"includeDelimiter\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC2DC\\uB9AC\\uC5BC \\uB514\\uBC14\\uC774\\uC2A4 \\uC5F4\\uAE30\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    device\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"open\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"port\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" parser\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC2DC\\uB9AC\\uC5BC\\uD3EC\\uD2B8+\\uD30C\\uC11C\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// open \\uC911\\uC778 \\uC0C1\\uD0DC\\uC758 SerialDevice\\uB97C \\uB9AC\\uD134\\uD569\\uB2C8\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),` device\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\uC704\\uC758 \\uC608\\uC81C\\uC5D0\\uC11C\\uB294 \",(0,e.jsx)(n.code,{children:\"includeDelimiter:false\"}),\"\\uB85C \\uC124\\uC815\\uD588\\uC73C\\uBBC0\\uB85C, \\uD328\\uD0B7\\uC744 \\uC77D\\uC744 \\uB54C \\uAD6C\\uBD84 \\uBB38\\uC790\\uB294 \\uC81C\\uAC70\\uD558\\uACE0 \\uC77D\\uC5B4\\uC838\\uC11C \\uAC1C\\uBC1C\\uC774 \\uD3B8\\uB9AC\\uD569\\uB2C8\\uB2E4.\"]}),`\n`,(0,e.jsxs)(n.h4,{id:\"\\uC77D\\uB294-\\uD568\\uC218-readnext_\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#\\uC77D\\uB294-\\uD568\\uC218-readnext_\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uC77D\\uB294 \\uD568\\uC218 \",(0,e.jsx)(n.code,{children:\"readNext_()\"})]}),`\n`,(0,e.jsxs)(n.p,{children:[`\\uC704\\uC640 \\uAC19\\uC774 \\uC624\\uD508\\uD55C wiseXboard\\uC5D0\\uC11C \\uB370\\uC774\\uD130\\uB97C \\uC77D\\uB294 \\uBC29\\uBC95\\uC740 \\uC544\\uB798\\uC640 \\uAC19\\uC2B5\\uB2C8\\uB2E4.\n\\uB370\\uC774\\uD130\\uB97C \\uC77D\\uC744 \\uB54C\\uB294 `,(0,e.jsx)(n.code,{children:\"readNext_()\"}),` \\uD568\\uC218\\uB85C \\uC77D\\uC744 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\n\\uD30C\\uC11C\\uAC00 \\uC5C6\\uC5B4\\uB3C4 `,(0,e.jsx)(n.code,{children:\"readNext_()\"}),\"\\uB85C \\uC77D\\uC2B5\\uB2C8\\uB2E4.\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-javascript\",children:(0,e.jsxs)(n.code,{className:\"language-javascript code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"WiseXboardControl\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"AbstractHwConrtol\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"implements\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"IWiseXboardControl\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// ...\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token doc-comment comment\",children:`/**\n`})]}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token doc-comment comment\",children:`     * \\uC8FC\\uC5B4\\uC9C4 pin \\uBC88\\uD638\\uC758 \\uC544\\uB0A0\\uB85C\\uADF8 \\uAC12\\uC744 \\uC77D\\uAE30\n`})}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token doc-comment comment\",children:\"     */\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    analogRead \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ctx\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" any\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"pin\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" number\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token known-class-name class-name\",children:\"Promise\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\"number\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token arrow operator\",children:\"=\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" values \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"await\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"readNext_\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" v \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" values\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"pin \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),` v\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// ...\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h4,{id:\"\\uCD94\\uAC00-\\uC124\\uBA85\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#\\uCD94\\uAC00-\\uC124\\uBA85\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uCD94\\uAC00 \\uC124\\uBA85\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"this.readNext_()\"}),\" \\uD568\\uC218\\uB294 \",(0,e.jsx)(n.code,{children:\"WiseXboardControl\"}),\" \\uD074\\uB798\\uC2A4\\uAC00 \\uC0C1\\uC18D\\uD558\\uACE0 \\uC788\\uB294 \",(0,e.jsx)(n.code,{children:\"AbstractHwConrtol\"}),` \\uD074\\uB798\\uC2A4\\uC5D0 \\uAD6C\\uD604\\uB418\\uC5B4 \\uC788\\uC2B5\\uB2C8\\uB2E4.\n\\uB530\\uB77C\\uC11C \\uB2E4\\uB978 \\uD558\\uB4DC\\uC6E8\\uC5B4\\uC5D0\\uC11C\\uB3C4 \\uB3D9\\uC77C\\uD558\\uAC8C \\uC0AC\\uC6A9\\uD560 \\uC218 \\uC788\\uB294 \\uD568\\uC218\\uC785\\uB2C8\\uB2E4.`]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"this.readNext_()\"}),\" \\uD568\\uC218\\uB294 \\uB0B4\\uBD80\\uC801\\uC73C\\uB85C, \",(0,e.jsx)(n.code,{children:\"openDevice()\"}),\" \\uD568\\uC218\\uAC00 \\uB9AC\\uD134\\uD55C SerialDevice \\uAC1D\\uCCB4\\uB97C \\uC774\\uC6A9\\uD574\\uC11C \\uC2DC\\uB9AC\\uC5BC \\uD3EC\\uD2B8\\uB85C\\uBD80\\uD130 \\uAC12\\uC744 \\uC77D\\uC2B5\\uB2C8\\uB2E4.\"]}),`\n`]}),`\n`,(0,e.jsxs)(n.h3,{id:\"\\uC608\\uC81C-2\\uBC88---altinolite-\\uC790\\uCCB4-\\uC81C\\uC791\\uD55C-\\uD30C\\uC11C\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#\\uC608\\uC81C-2\\uBC88---altinolite-\\uC790\\uCCB4-\\uC81C\\uC791\\uD55C-\\uD30C\\uC11C\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uC608\\uC81C 2\\uBC88 - altinoLite, \\uC790\\uCCB4 \\uC81C\\uC791\\uD55C \\uD30C\\uC11C\"]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"saeonAltinoLite\"}),\" \\uD558\\uB4DC\\uC6E8\\uC5B4\\uB294 \\uC790\\uCCB4 \\uC81C\\uC791\\uD55C \\uD30C\\uC11C\\uB97C \\uC0AC\\uC6A9\\uD558\\uACE0 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\uC544\\uB798\\uC758 \",(0,e.jsx)(n.code,{children:\"openDevice()\"}),\" \\uD568\\uC218\\uC5D0\\uC11C \",(0,e.jsx)(n.code,{children:\"AltinoLiteParser\"}),\" \\uBD80\\uBD84\\uC744 \\uC0B4\\uD3B4\\uBCF4\\uC138\\uC694.\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"openDevice\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"params\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ISerialDeviceOpenParams\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"SerialDevice\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" serialPortPath\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" uiLogger \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),` params\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token console class-name\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"DEBUG_TAG\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'openDevice()'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" serialPortPath\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC2DC\\uB9AC\\uC5BC \\uB514\\uBC14\\uC774\\uC2A4 \\uC0DD\\uC131, \\uC2DC\\uB9AC\\uC5BC\\uD3EC\\uD2B8\\uB97C \\uAC10\\uC2F8\\uB294 \\uAC1D\\uCCB4\\uC785\\uB2C8\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC2E4\\uC81C serial port\\uC758 \\uC0C1\\uD0DC\\uB97C \\uAD00\\uB9AC\\uD558\\uACE0, UI\\uC5D0 \\uB85C\\uADF8\\uB97C \\uC804\\uC1A1\\uD569\\uB2C8\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" device \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"SerialDevice\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"DEBUG_TAG\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" uiLogger\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC2DC\\uB9AC\\uC5BC \\uD3EC\\uD2B8 \\uC0DD\\uC131\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" port \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"SerialPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"path\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" serialPortPath\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"baudRate\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"115200\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"autoOpen\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// autoOpen\\uC740 \\uBC18\\uB4DC\\uC2DC false\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// RX \\uB370\\uC774\\uD130 \\uD30C\\uC11C\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" parser \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"AltinoLiteParser\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC790\\uCCB4 \\uC81C\\uC791\\uD55C \\uD30C\\uC11C\\uC785\\uB2C8\\uB2E4.\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC2DC\\uB9AC\\uC5BC \\uB514\\uBC14\\uC774\\uC2A4 \\uC5F4\\uAE30\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    device\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"open\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"port\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" parser\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC2DC\\uB9AC\\uC5BC\\uD3EC\\uD2B8+\\uC790\\uCCB4 \\uC81C\\uC791\\uD55C \\uD30C\\uC11C\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// open \\uC911\\uC778 \\uC0C1\\uD0DC\\uC758 SerialDevice\\uB97C \\uB9AC\\uD134\\uD569\\uB2C8\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),` device\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h4,{id:\"\\uC790\\uCCB4-\\uC81C\\uC791\\uD55C-\\uD30C\\uC11C\\uC758-\\uC18C\\uC2A4\\uCF54\\uB4DC\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#\\uC790\\uCCB4-\\uC81C\\uC791\\uD55C-\\uD30C\\uC11C\\uC758-\\uC18C\\uC2A4\\uCF54\\uB4DC\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uC790\\uCCB4 \\uC81C\\uC791\\uD55C \\uD30C\\uC11C\\uC758 \\uC18C\\uC2A4\\uCF54\\uB4DC\"]}),`\n`,(0,e.jsxs)(n.p,{children:[\"\\uC790\\uCCB4 \\uC81C\\uC791\\uD55C \\uD30C\\uC11C\\uC778 \",(0,e.jsx)(n.code,{children:\"AltinoLiteParser\"}),\"\\uC758 \\uC18C\\uC2A4\\uCF54\\uB4DC\\uAC00 \\uAE38\\uC9C0 \\uC54A\\uC73C\\uBBC0\\uB85C \\uC5EC\\uAE30\\uC5D0 \\uC801\\uC5B4\\uBCF4\\uACA0\\uC2B5\\uB2C8\\uB2E4.\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[\"\\uCEE4\\uC2A4\\uD140 \\uD30C\\uC11C\\uB294 \",(0,e.jsx)(n.code,{children:\"Transform\"}),\" \\uD074\\uB798\\uC2A4\\uB97C \\uC0C1\\uC18D\\uD574\\uC11C \",(0,e.jsx)(n.code,{children:\"_transform()\"}),\" \\uD568\\uC218\\uB97C \\uAD6C\\uD604\\uD558\\uBA74 \\uB429\\uB2C8\\uB2E4.\"]}),`\n`,(0,e.jsxs)(n.li,{children:[\"\\uC544\\uB798 \\uCF54\\uB4DC\\uC5D0\\uC11C \\uAD6C\\uC9C0 \\uD30C\\uC2F1 \\uB85C\\uC9C1\\uC744 \\uBD84\\uC11D\\uD558\\uAE30 \\uBCF4\\uB2E4\\uB294 \",(0,e.jsx)(n.code,{children:\"_transform()\"}),\" \\uD568\\uC218\\uB9CC \\uAD6C\\uD604\\uD558\\uBA74 \\uB41C\\uB2E4\\uB294 \\uAC83\\uB9CC \\uAE30\\uC5B5\\uD558\\uBA74 \\uC88B\\uC744 \\uAC83 \\uAC19\\uC2B5\\uB2C8\\uB2E4.\"]}),`\n`]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsxs)(n.span,{className:\"token imports\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Transform\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"TransformCallback\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'stream'\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"LOG_TAG\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'AltinoLiteParser'\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token doc-comment comment\",children:`/**\n`})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token doc-comment comment\",children:` * AltinoLiteParser\\uC785\\uB2C8\\uB2E4\n`})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token doc-comment comment\",children:` * \\uC9C0\\uC815\\uB41C \\uD328\\uD0B7 \\uD06C\\uAE30\\uC758 \\uC2DC\\uC791/\\uC885\\uB8CC \\uB9C8\\uD06C\\uB97C \\uCC3E\\uC544\\uC11C \\uD328\\uD0B7\\uC744 \\uC804\\uC1A1\\uD569\\uB2C8\\uB2E4.\n`})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token doc-comment comment\",children:` * Transform \\uD074\\uB798\\uC2A4\\uB97C \\uC0C1\\uC18D\\uD569\\uB2C8\\uB2E4\n`})}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token doc-comment comment\",children:\" */\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"AltinoLiteParser\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Transform\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC911\\uAC1C \\uBC84\\uD37C\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"private\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"buffer\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Buffer\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC911\\uAC1C \\uBC84\\uD37C\\uC5D0 \\uCC44\\uC6CC\\uC9C4 \\uBC14\\uC774\\uD2B8\\uC218\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"private\"}),\" bufferByteCount \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC2DC\\uC791 \\uB9C8\\uD06C\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"private\"}),\" startMark \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0x02\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC885\\uB8CC \\uB9C8\\uD06C\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"private\"}),\" endMark \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0x03\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// 22\\uBC14\\uC774\\uD2B8\\uB97C \\uCC44\\uC6CC\\uC11C \\uBCF4\\uB0C5\\uB2C8\\uB2E4\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"private\"}),\" packetLength \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"22\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function\",children:\"constructor\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"super\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token console class-name\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"LOG_TAG\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'constructor()'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"buffer\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Buffer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"alloc\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"packetLength\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"bufferByteCount\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function\",children:\"_transform\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"chunk\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Buffer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"_encoding\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"BufferEncoding\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"callback\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"TransformCallback\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"for\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" i \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" i \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003c\"}),\" chunk\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"length\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" i\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"++\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"bufferByteCount\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"===\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" byte \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" chunk\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"i\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"byte \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"===\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"startMark\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"buffer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),` byte\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"bufferByteCount\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"continue\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" byte \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" chunk\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"i\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"buffer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"bufferByteCount\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"++\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),` byte\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"bufferByteCount\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"===\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"packetLength\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"byte \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"===\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"endMark\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"push\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Buffer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"buffer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"bufferByteCount\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"else\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token console class-name\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"LOG_TAG\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'end-mark mismatch'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" idx \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"buffer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"indexOf\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"startMark\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"idx \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" tmpBuf \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"buffer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"subarray\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"idx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            tmpBuf\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"copy\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"buffer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"bufferByteCount\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" tmpBuf\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"byteLength\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token function\",children:\"callback\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`})]})}),`\n`,(0,e.jsxs)(n.h2,{id:\"serialport-\\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC\\uC758-\\uB2E4\\uB978-\\uD30C\\uC11C\\uB4E4\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#serialport-\\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC\\uC758-\\uB2E4\\uB978-\\uD30C\\uC11C\\uB4E4\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),(0,e.jsx)(n.code,{children:\"serialport\"}),\" \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC\\uC758 \\uB2E4\\uB978 \\uD30C\\uC11C\\uB4E4\"]}),`\n`,(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"serialport\"}),\" \\uB77C\\uC774\\uBE0C\\uB7EC\\uB9AC\\uC5D0\\uC11C \\uC81C\\uACF5\\uD558\\uB294 \\uC5EC\\uB7EC\\uAC00\\uC9C0 \\uC720\\uC6A9\\uD55C \\uD30C\\uC11C\\uB4E4\\uC774 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"]}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://serialport.io/docs/api-parser-byte-length\",children:\"@serialport/parser-byte-length\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://serialport.io/docs/api-parser-cctalk\",children:\"@serialport/parser-cctalk\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://serialport.io/docs/api-parser-delimiter\",children:\"@serialport/parser-delimiter\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://serialport.io/docs/api-parser-inter-byte-timeout\",children:\"@serialport/parser-inter-byte-timeout\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://serialport.io/docs/api-parser-packet-length\",children:\"@serialport/parser-packet-length\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://serialport.io/docs/api-parser-readline\",children:\"@serialport/parser-readline\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://serialport.io/docs/api-parser-ready\",children:\"@serialport/parser-ready\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://serialport.io/docs/api-parser-regex\",children:\"@serialport/parser-regex\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://serialport.io/docs/api-parser-slip-encoder\",children:\"@serialport/parser-slip-encoder\"})}),`\n`,(0,e.jsx)(n.li,{children:(0,e.jsx)(n.a,{href:\"https://serialport.io/docs/api-parser-spacepacket\",children:\"@serialport/parser-spacepacket\"})}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"\\uC704\\uC758 \\uC18C\\uC2A4\\uCF54\\uB4DC\\uB294 \\uBAA8\\uB450 \\uACF5\\uAC1C\\uB418\\uC5B4 \\uC788\\uC2B5\\uB2C8\\uB2E4. \\uC815\\uD655\\uD788 \\uC6D0\\uD558\\uB294 \\uD30C\\uC11C\\uAC00 \\uC5C6\\uB354\\uB77C\\uB3C4, \\uC870\\uAE08 \\uC218\\uC815\\uD558\\uC5EC \\uC6D0\\uD558\\uB294 \\uAC83\\uC744 \\uB9CC\\uB4E4\\uAE30\\uC5D0 \\uC88B\\uC2B5\\uB2C8\\uB2E4.\"}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\uC5B4\\uC378-\\uD558\\uB4DC\\uC6E8\\uC5B4\\uC5D0-\\uD30C\\uC11C-\\uC5F0\\uACB0\\uD558\\uAE30\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#\\uC5B4\\uC378-\\uD558\\uB4DC\\uC6E8\\uC5B4\\uC5D0-\\uD30C\\uC11C-\\uC5F0\\uACB0\\uD558\\uAE30\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uC5B4\\uC378 \\uD558\\uB4DC\\uC6E8\\uC5B4\\uC5D0 \\uD30C\\uC11C \\uC5F0\\uACB0\\uD558\\uAE30\"]}),`\n`,(0,e.jsxs)(n.p,{children:[`\\uC774\\uC804\\uC5D0 \\uC0B4\\uD3B4\\uBCF4\\uC558\\uB358 \\uC5B4\\uC378 \\uD558\\uB4DC\\uC6E8\\uC5B4\\uC5D0\n`,(0,e.jsx)(n.code,{children:\"DelimiterParser\"}),\"\\uB97C \\uC5F0\\uACB0\\uD574\\uBCF4\\uACA0\\uC2B5\\uB2C8\\uB2E4.\"]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-javascript\",children:(0,e.jsxs)(n.code,{className:\"language-javascript code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsxs)(n.span,{className:\"token imports\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"DelimiterParser\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"SerialPort\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'serialport'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsxs)(n.span,{className:\"token imports\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ISerialDeviceOpenParams\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ISerialPortInfo\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'src/custom-types'\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,e.jsxs)(n.span,{className:\"token imports\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"SerialDevice\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"})]}),\" \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'src/hw-server/serialport/SerialDevice'\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uB514\\uBC84\\uAE45\\uC6A9 \\uB85C\\uADF8 \\uD0DC\\uADF8\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"DEBUG_TAG\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'awesome'\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token doc-comment comment\",children:`/**\n`})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token doc-comment comment\",children:` * \\uC9C0\\uC6D0\\uD558\\uB294 \\uC2DC\\uB9AC\\uC5BC\\uD3EC\\uD2B8 \\uC5EC\\uBD80 \\uCCB4\\uD06C\n`})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token doc-comment comment\",children:` *\n`})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsxs)(n.span,{className:\"token doc-comment comment\",children:[\" * \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"@param\"}),\" \",(0,e.jsx)(n.span,{className:\"token parameter\",children:\"portInfo\"}),` \\uD3EC\\uD2B8 \\uC815\\uBCF4\n`]})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsxs)(n.span,{className:\"token doc-comment comment\",children:[\" * \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"@returns\"}),` \\uC9C0\\uC6D0\\uD558\\uB294 \\uD3EC\\uD2B8\\uB77C\\uBA74 true\\uB97C \\uB9AC\\uD134\n`]})}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token doc-comment comment\",children:\" */\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"isPortMatch\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"port\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ISerialPortInfo\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" boolean \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// const { manufacturer, productId, vendorId } = port\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" manufacturer \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"''\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),` port\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// silicon labs(CP210)\\uB9CC \\uD5C8\\uC6A9\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" matched \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" manufacturer\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"toLowerCase\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"indexOf\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'silicon labs'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"\u003e=\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),` matched\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token doc-comment comment\",children:`/**\n`})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token doc-comment comment\",children:` * \\uC2DC\\uB9AC\\uC5BC \\uB514\\uBC14\\uC774\\uC2A4 \\uC624\\uD508\n`})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token doc-comment comment\",children:` * open \\uC911\\uC778 \\uC0C1\\uD0DC\\uC758 SerialDevice\\uB97C \\uB9AC\\uD134\\uD569\\uB2C8\\uB2E4.\n`})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token doc-comment comment\",children:` *\n`})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token doc-comment comment\",children:` * \\uC5F0\\uACB0\\uC774 \\uB418\\uAE30\\uB97C \\uAE30\\uB2E4\\uB9AC\\uB824\\uBA74\n`})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token doc-comment comment\",children:` * await device.waitUntilOpen()\n`})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsx)(n.span,{className:\"token doc-comment comment\",children:` *\n`})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsxs)(n.span,{className:\"token doc-comment comment\",children:[\" * \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"@param\"}),\" \",(0,e.jsx)(n.span,{className:\"token parameter\",children:\"serialPortPath\"}),` \\uC2DC\\uB9AC\\uC5BC\\uD3EC\\uD2B8 Path, ex) COM1, /dev/ttyUSB0\n`]})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsxs)(n.span,{className:\"token doc-comment comment\",children:[\" * \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"@param\"}),\" \",(0,e.jsx)(n.span,{className:\"token parameter\",children:\"uiLogger\"}),` UI \\uCF58\\uC194 \\uB85C\\uAC70, \\uC0AC\\uC6A9\\uC790 \\uD654\\uBA74\\uC5D0 \\uB85C\\uAE45 \\uBA54\\uC2DC\\uC9C0\\uB97C \\uD45C\\uC2DC\\uD569\\uB2C8\\uB2E4\n`]})}),(0,e.jsx)(n.span,{className:\"code-line\",children:(0,e.jsxs)(n.span,{className:\"token doc-comment comment\",children:[\" * \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"@returns\"}),` SerialDevice\n`]})}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token doc-comment comment\",children:\" */\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"openDevice\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"params\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ISerialDeviceOpenParams\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"SerialDevice\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" serialPortPath\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" uiLogger \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),` params\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token console class-name\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"DEBUG_TAG\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'openDevice()'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" serialPortPath\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC2DC\\uB9AC\\uC5BC \\uB514\\uBC14\\uC774\\uC2A4 \\uC0DD\\uC131, \\uC2DC\\uB9AC\\uC5BC\\uD3EC\\uD2B8\\uB97C \\uAC10\\uC2F8\\uB294 \\uAC1D\\uCCB4\\uC785\\uB2C8\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC2E4\\uC81C serial port\\uC758 \\uC0C1\\uD0DC\\uB97C \\uAD00\\uB9AC\\uD558\\uACE0, UI\\uC5D0 \\uB85C\\uADF8\\uB97C \\uC804\\uC1A1\\uD569\\uB2C8\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" device \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"SerialDevice\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"DEBUG_TAG\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" uiLogger\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC2DC\\uB9AC\\uC5BC \\uD3EC\\uD2B8 \\uC0DD\\uC131\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" port \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"SerialPort\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"path\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" serialPortPath\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"baudRate\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"38400\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"autoOpen\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// autoOpen\\uC740 \\uBC18\\uB4DC\\uC2DC false\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// RX \\uB370\\uC774\\uD130 \\uD30C\\uC11C\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" parser \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"DelimiterParser\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"delimiter\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Buffer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"0x52\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0x58\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0x3d\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0x0\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"0x0e\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uAD6C\\uBD84 \\uBB38\\uC790\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"includeDelimiter\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token boolean\",children:\"false\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// \\uC2DC\\uB9AC\\uC5BC \\uB514\\uBC14\\uC774\\uC2A4 \\uC5F4\\uAE30\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    device\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"open\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"port\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" parser\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// open \\uC911\\uC778 \\uC0C1\\uD0DC\\uC758 SerialDevice\\uB97C \\uB9AC\\uD134\\uD569\\uB2C8\\uB2E4.\"}),`\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),` device\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\uC694\\uC57D\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#\\uC694\\uC57D\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uC694\\uC57D\"]}),`\n`,(0,e.jsx)(n.p,{children:\"\\uC694\\uC57D\\uD558\\uBA74,\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsxs)(n.li,{children:[\"\\uD30C\\uC2F1\\uC774 \\uD544\\uC694\\uD558\\uB2E4\\uBA74, \",(0,e.jsx)(n.code,{children:\"openDevice()\"}),\" \\uD568\\uC218\\uC5D0\\uC11C \\uD30C\\uC11C\\uB97C \\uB4F1\\uB85D\\uD558\\uAE30\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"readNext_()\"}),\"\\uB85C \\uD30C\\uC2F1\\uB41C \\uACB0\\uACFC\\uBB3C \\uC77D\\uAE30\"]}),`\n`,(0,e.jsxs)(n.li,{children:[\"\\uD30C\\uC11C\\uAC00 \\uC5C6\\uB294 \\uACBD\\uC6B0 \",(0,e.jsx)(n.code,{children:\"readNext_()\"}),\"\\uB294 \\uC2DC\\uB9AC\\uC5BC\\uD3EC\\uD2B8\\uB85C\\uBD80\\uD130 \\uC9C1\\uC811 \\uC77D\\uC2B5\\uB2C8\\uB2E4.\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.code,{children:\"serialport\"}),\" \\uC0AC\\uC774\\uD2B8\\uC5D0\\uC11C \\uC81C\\uACF5\\uD558\\uB294 \\uC5EC\\uB7EC \\uD30C\\uC11C\\uB4E4\\uC744 \\uD65C\\uC6A9\\uD558\\uAC70\\uB098\"]}),`\n`,(0,e.jsx)(n.li,{children:\"\\uB2E4\\uB978 \\uD558\\uB4DC\\uC6E8\\uC5B4\\uC758 \\uD30C\\uC11C\\uB97C \\uBCF5\\uC0AC\\uD574\\uC11C \\uC0AC\\uC6A9\\uD558\\uC138\\uC694.\"}),`\n`]}),`\n`,(0,e.jsxs)(n.h2,{id:\"\\uB2E4\\uC74C-\\uB2E8\\uACC4\",children:[(0,e.jsx)(n.a,{className:\"anchor\",href:\"#\\uB2E4\\uC74C-\\uB2E8\\uACC4\",children:(0,e.jsx)(n.span,{className:\"icon icon-link\"})}),\"\\uB2E4\\uC74C \\uB2E8\\uACC4\"]}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"\\uC2DC\\uB9AC\\uC5BC\\uD3EC\\uD2B8\\uC5D0 \\uB370\\uC774\\uD130\\uB97C \\uC218\\uC2E0\\uD558\\uB294 \\uCF54\\uB4DC \\uC791\\uC131\\uBC95\\uC744 \\uC0B4\\uD3B4\\uBCF4\\uC558\\uC2B5\\uB2C8\\uB2E4.\"}),`\n`,(0,e.jsx)(n.li,{children:\"\\uC18C\\uC2A4\\uCF54\\uB4DC\\uB294 \\uBAA8\\uB450 \\uACF5\\uAC1C\\uB418\\uC5B4 \\uC788\\uC73C\\uB2C8 \\uCC38\\uACE0\\uD558\\uC2DC\\uAE30 \\uBC14\\uB78D\\uB2C8\\uB2E4.\"}),`\n`,(0,e.jsxs)(n.li,{children:[\"\\uB2E4\\uC74C \",(0,e.jsx)(n.code,{children:\"\\uBE14\\uB85D \\uACF5\\uC791\\uC18C \\uC5F0\\uB3D9\"}),\" \\uBB38\\uC11C\\uB97C \\uC77D\\uC5B4\\uC8FC\\uC138\\uC694.\"]}),`\n`]})]})}}var v=x;function d(a,s){throw new Error(\"Expected \"+(s?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return b(P);})();\n;return Component;"},"_id":"hw-pc-dev-how-to-hw-data-recv.mdx","_raw":{"sourceFilePath":"hw-pc-dev-how-to-hw-data-recv.mdx","sourceFileName":"hw-pc-dev-how-to-hw-data-recv.mdx","sourceFileDir":".","contentType":"mdx","flattenedPath":"hw-pc-dev-how-to-hw-data-recv"},"type":"Post","url":"/post-frame/hw-pc-dev-how-to-hw-data-recv","slug":"hw-pc-dev-how-to-hw-data-recv"}},"__N_SSG":true},"page":"/post/[slug]","query":{"slug":"hw-pc-dev-how-to-hw-data-recv"},"buildId":"yPdhSZvqJBcscIzCwc_Yd","runtimeConfig":{"ROUTER_BASE_URL":"","API_BASE_URL":"https://github.com/ktaicoder","SITE_URL":"https://ktaicoder.github.io","DEBUG":false},"isFallback":false,"dynamicIds":[92669,17254,55693],"gsp":true,"scriptLoader":[]}</script></body></html>