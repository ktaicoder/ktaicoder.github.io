{"pageProps":{"post":{"title":"코디니팩 파이썬 예제 4번","date":"2022-06-07T00:00:00.000Z","description":"코디니팩 파이썬 예제 4번을 설명합니다","body":{"raw":"\n# 코디니팩의 파이썬 예제4\n\n<MdxTextBox>\n    <Box sx={{ color: 'secondary.main', fontWeight: 600, mb: 1 }}>\n        이 문서는 <b>코디니팩 INSIDE 파이썬 예제4</b>의 소스코드와 실행화면입니다.\n    </Box>\n    <Typography sx={{ color: '#666', mb: 1 }} variant=\"body1\">\n        예제 파일 위치: /home/pi/ai-makers-kit/inside_python3\n    </Typography>\n</MdxTextBox>\n\n## 예제4 TTS 스트림 방식\n\n-   예제4는 예제3 TTS와 마찬가지로 텍스트를 음성으로 변환하는 예제입니다.\n-   예제3에서는 음성으로 변환된 결과물이 MP3 URL이라서 브라우저에서 MP3 URL을 PLAY하는 방식입니다.\n-   예제4에서는 음성을 직접 다운로드하여 파일로 저장합니다. MP3가 아닌 WAV 파일로 저장합니다.\n\n## 예제4 소스코드\n\n-   아래는 `/home/pi/ai-makers-kit/inside_python3/ex4_getText2VoiceStream.py` 파일입니다.\n\n```python\n#!/usr/bin/env python\n# -*- coding: utf-8 -*-\n\n\"\"\"Example 4: TTS - getText2VoiceStream\"\"\"\n\nfrom __future__ import print_function\n\nfrom ctypes import *\n\nimport MicrophoneStream as MS\nimport gigagenieRPC_pb2\nimport gigagenieRPC_pb2_grpc\nimport grpc\nimport user_auth as UA\n\nHOST = 'openapi.gigagenie.ai'\nPORT = 50051\n\nERROR_HANDLER_FUNC = CFUNCTYPE(None, c_char_p, c_int, c_char_p, c_int, c_char_p)\n\n\ndef py_error_handler(filename, line, function, err, fmt):\n    dummy_var = 0\n\n\nc_error_handler = ERROR_HANDLER_FUNC(py_error_handler)\nasound = cdll.LoadLibrary('libasound.so')\nasound.snd_lib_error_set_handler(c_error_handler)\n\n\n# TTS : getText2VoiceStream\ndef getText2VoiceStream(input_text, input_filename):\n    channel = grpc.secure_channel('{}:{}'.format(HOST, PORT), UA.getCredentials())\n    stub = gigagenieRPC_pb2_grpc.GigagenieStub(channel)\n\n    message = gigagenieRPC_pb2.reqText()\n    message.lang = 0\n    message.mode = 0\n    message.text = input_text\n    output_file = open(input_filename, 'wb')\n    for response in stub.getText2VoiceStream(message):\n        if response.HasField(\"resOptions\"):\n            print(\"\\n\\nResVoiceResult: %d\" % response.resOptions.resultCd)\n        if response.HasField(\"audioContent\"):\n            print(\"Audio Stream\\n\\n\")\n            output_file.write(response.audioContent)\n    output_file.close()\n    return response.resOptions.resultCd\n\n\ndef main():\n    output_file = \"testtts.wav\"\n    getText2VoiceStream(\"안녕하세요. 반갑습니다.\", output_file)\n    MS.play_file(output_file)\n    print(output_file + \"이 생성되었으니 파일을 확인바랍니다. \\n\\n\\n\")\n\n\nif __name__ == '__main__':\n    main()\n\n```\n\n## 실행\n\n-   아래와 같이 실행하세요.\n-   음성으로 변환하기를 원하는 텍스트가 소스코드에 하드코딩되어 있습니다.\n    `main()`의 `getText2VoiceStream(\"안녕하세요. 반갑습니다.\", output_file)` 부분입니다.\n-   그래서 `안녕하세요. 반갑습니다.` 텍스트를 음성으로 변환합니다.\n\n```bash\n$ python3 ex4_getText2VoiceStream.py\n```\n\n-   아래는 터미널에서 실행한 모습입니다.\n-   텍스트를 음성으로 변환하여 `testtts.wav` 파일에 저장합니다.\n-   그리고 저장된 `testtts.wav` 파일을 재생하고 프로그램이 종료됩니다.\n\n    <MdxImageView src=\"/images/codinypack-py/inside-python3/ex4_out1.png\" caption=\"예제 실행\" transparentBg />\n\n### Tip!\n\n-   터미널에서도 `testtts.wav` 파일을 재생할 수 있습니다.\n-   이미 예제 프로그램에서 `wav` 파일을 재생했지만,\n    터미널에서 `wav` 파일을 재생하는 방법도 참고로 알아두시면 좋을 것 같습니다.\n-   방금 프로그램을 실행했으므로, 현재 폴더에 `testtts.wav` 파일이 있을 것입니다.\n    다음과 같이 실행하면 `testtts.wav` 파일의 음성이 스피커에 출력됩니다.\n\n```bash\n$ aplay -q -D plughw:0 testtts.wav\n```\n\n<PyInsideExampleLinkBox exampleId=\"ex4\" />\n\nEnd.\n","code":"var Component=(()=>{var N=Object.create;var t=Object.defineProperty;var k=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var _=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty;var f=(a,s)=>()=>(s||a((s={exports:{}}).exports,s),s.exports),x=(a,s)=>{for(var c in s)t(a,c,{get:s[c],enumerable:!0})},h=(a,s,c,e)=>{if(s&&typeof s==\"object\"||typeof s==\"function\")for(let l of g(s))!y.call(a,l)&&l!==c&&t(a,l,{get:()=>s[l],enumerable:!(e=k(s,l))||e.enumerable});return a};var w=(a,s,c)=>(c=a!=null?N(_(a)):{},h(s||!a||!a.__esModule?t(c,\"default\",{value:a,enumerable:!0}):c,a)),b=a=>h(t({},\"__esModule\",{value:!0}),a);var u=f((v,m)=>{m.exports=_jsx_runtime});var C={};x(C,{default:()=>R,frontmatter:()=>T});var n=w(u()),T={date:\"2022-06-07\",thumbnail:\"thumbnail.jpg\",title:\"\\uCF54\\uB514\\uB2C8\\uD329 \\uD30C\\uC774\\uC36C \\uC608\\uC81C 4\\uBC88\",description:\"\\uCF54\\uB514\\uB2C8\\uD329 \\uD30C\\uC774\\uC36C \\uC608\\uC81C 4\\uBC88\\uC744 \\uC124\\uBA85\\uD569\\uB2C8\\uB2E4\"};function S(a={}){let{wrapper:s}=a.components||{};return s?(0,n.jsx)(s,Object.assign({},a,{children:(0,n.jsx)(c,{})})):c();function c(){let e=Object.assign({h1:\"h1\",a:\"a\",span:\"span\",p:\"p\",h2:\"h2\",ul:\"ul\",li:\"li\",code:\"code\",pre:\"pre\",h3:\"h3\"},a.components),{MdxTextBox:l,Box:o,Typography:r,MdxImageView:p,PyInsideExampleLinkBox:d}=e;return o||i(\"Box\",!0),p||i(\"MdxImageView\",!0),l||i(\"MdxTextBox\",!0),d||i(\"PyInsideExampleLinkBox\",!0),r||i(\"Typography\",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.h1,{id:\"\\uCF54\\uB514\\uB2C8\\uD329\\uC758-\\uD30C\\uC774\\uC36C-\\uC608\\uC81C4\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#\\uCF54\\uB514\\uB2C8\\uD329\\uC758-\\uD30C\\uC774\\uC36C-\\uC608\\uC81C4\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\uCF54\\uB514\\uB2C8\\uD329\\uC758 \\uD30C\\uC774\\uC36C \\uC608\\uC81C4\"]}),`\n`,(0,n.jsxs)(l,{children:[(0,n.jsx)(o,{sx:{color:\"secondary.main\",fontWeight:600,mb:1},children:(0,n.jsxs)(e.p,{children:[\"\\uC774 \\uBB38\\uC11C\\uB294 \",(0,n.jsx)(\"b\",{children:\"\\uCF54\\uB514\\uB2C8\\uD329 INSIDE \\uD30C\\uC774\\uC36C \\uC608\\uC81C4\"}),\"\\uC758 \\uC18C\\uC2A4\\uCF54\\uB4DC\\uC640 \\uC2E4\\uD589\\uD654\\uBA74\\uC785\\uB2C8\\uB2E4.\"]})}),(0,n.jsx)(r,{sx:{color:\"#666\",mb:1},variant:\"body1\",children:(0,n.jsx)(e.p,{children:\"\\uC608\\uC81C \\uD30C\\uC77C \\uC704\\uCE58: /home/pi/ai-makers-kit/inside_python3\"})})]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\uC608\\uC81C4-tts-\\uC2A4\\uD2B8\\uB9BC-\\uBC29\\uC2DD\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#\\uC608\\uC81C4-tts-\\uC2A4\\uD2B8\\uB9BC-\\uBC29\\uC2DD\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\uC608\\uC81C4 TTS \\uC2A4\\uD2B8\\uB9BC \\uBC29\\uC2DD\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\uC608\\uC81C4\\uB294 \\uC608\\uC81C3 TTS\\uC640 \\uB9C8\\uCC2C\\uAC00\\uC9C0\\uB85C \\uD14D\\uC2A4\\uD2B8\\uB97C \\uC74C\\uC131\\uC73C\\uB85C \\uBCC0\\uD658\\uD558\\uB294 \\uC608\\uC81C\\uC785\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\uC608\\uC81C3\\uC5D0\\uC11C\\uB294 \\uC74C\\uC131\\uC73C\\uB85C \\uBCC0\\uD658\\uB41C \\uACB0\\uACFC\\uBB3C\\uC774 MP3 URL\\uC774\\uB77C\\uC11C \\uBE0C\\uB77C\\uC6B0\\uC800\\uC5D0\\uC11C MP3 URL\\uC744 PLAY\\uD558\\uB294 \\uBC29\\uC2DD\\uC785\\uB2C8\\uB2E4.\"}),`\n`,(0,n.jsx)(e.li,{children:\"\\uC608\\uC81C4\\uC5D0\\uC11C\\uB294 \\uC74C\\uC131\\uC744 \\uC9C1\\uC811 \\uB2E4\\uC6B4\\uB85C\\uB4DC\\uD558\\uC5EC \\uD30C\\uC77C\\uB85C \\uC800\\uC7A5\\uD569\\uB2C8\\uB2E4. MP3\\uAC00 \\uC544\\uB2CC WAV \\uD30C\\uC77C\\uB85C \\uC800\\uC7A5\\uD569\\uB2C8\\uB2E4.\"}),`\n`]}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\uC608\\uC81C4-\\uC18C\\uC2A4\\uCF54\\uB4DC\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#\\uC608\\uC81C4-\\uC18C\\uC2A4\\uCF54\\uB4DC\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\uC608\\uC81C4 \\uC18C\\uC2A4\\uCF54\\uB4DC\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\uC544\\uB798\\uB294 \",(0,n.jsx)(e.code,{children:\"/home/pi/ai-makers-kit/inside_python3/ex4_getText2VoiceStream.py\"}),\" \\uD30C\\uC77C\\uC785\\uB2C8\\uB2E4.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-python\",children:(0,n.jsxs)(e.code,{className:\"language-python code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"#!/usr/bin/env python\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# -*- coding: utf-8 -*-\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token triple-quoted-string string\",children:'\"\"\"Example 4: TTS - getText2VoiceStream\"\"\"'}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" __future__ \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` print_function\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"from\"}),\" ctypes \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"*\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" MicrophoneStream \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"as\"}),` MS\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` gigagenieRPC_pb2\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` gigagenieRPC_pb2_grpc\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),` grpc\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"import\"}),\" user_auth \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"as\"}),` UA\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"HOST \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'openapi.gigagenie.ai'\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"PORT \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"50051\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"ERROR_HANDLER_FUNC \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" CFUNCTYPE\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token boolean\",children:\"None\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" c_char_p\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" c_int\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" c_char_p\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" c_int\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" c_char_p\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"def\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"py_error_handler\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"filename\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" line\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" function\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" err\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" fmt\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    dummy_var \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"c_error_handler \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" ERROR_HANDLER_FUNC\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"py_error_handler\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"asound \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" cdll\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"LoadLibrary\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'libasound.so'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"asound\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"snd_lib_error_set_handler\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"c_error_handler\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"# TTS : getText2VoiceStream\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"def\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"getText2VoiceStream\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"input_text\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" input_filename\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    channel \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" grpc\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"secure_channel\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'{}:{}'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token builtin\",children:\"format\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"HOST\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" PORT\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" UA\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"getCredentials\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    stub \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" gigagenieRPC_pb2_grpc\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"GigagenieStub\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"channel\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    message \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" gigagenieRPC_pb2\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"reqText\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    message\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"lang \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    message\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"mode \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    message\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"text \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),` input_text\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    output_file \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token builtin\",children:\"open\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"input_filename\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'wb'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"for\"}),\" response \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"in\"}),\" stub\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"getText2VoiceStream\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"message\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" response\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"HasField\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"resOptions\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"\\\\n\\\\nResVoiceResult: %d\"'}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"%\"}),\" response\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"resOptions\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"resultCd\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" response\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"HasField\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"audioContent\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Audio Stream\\\\n\\\\n\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            output_file\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"write\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"response\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"audioContent\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    output_file\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"close\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"return\"}),\" response\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"resOptions\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),`resultCd\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"def\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"main\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    output_file \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"testtts.wav\"'}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    getText2VoiceStream\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"\\uC548\\uB155\\uD558\\uC138\\uC694. \\uBC18\\uAC11\\uC2B5\\uB2C8\\uB2E4.\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" output_file\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    MS\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"play_file\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"output_file\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"print\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"output_file \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"\\uC774 \\uC0DD\\uC131\\uB418\\uC5C8\\uC73C\\uB2C8 \\uD30C\\uC77C\\uC744 \\uD655\\uC778\\uBC14\\uB78D\\uB2C8\\uB2E4. \\\\n\\\\n\\\\n\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"if\"}),\" __name__ \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"==\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'__main__'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\":\"}),`\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    main\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`\n`})]})}),`\n`,(0,n.jsxs)(e.h2,{id:\"\\uC2E4\\uD589\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#\\uC2E4\\uD589\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"\\uC2E4\\uD589\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsx)(e.li,{children:\"\\uC544\\uB798\\uC640 \\uAC19\\uC774 \\uC2E4\\uD589\\uD558\\uC138\\uC694.\"}),`\n`,(0,n.jsxs)(e.li,{children:[`\\uC74C\\uC131\\uC73C\\uB85C \\uBCC0\\uD658\\uD558\\uAE30\\uB97C \\uC6D0\\uD558\\uB294 \\uD14D\\uC2A4\\uD2B8\\uAC00 \\uC18C\\uC2A4\\uCF54\\uB4DC\\uC5D0 \\uD558\\uB4DC\\uCF54\\uB529\\uB418\\uC5B4 \\uC788\\uC2B5\\uB2C8\\uB2E4.\n`,(0,n.jsx)(e.code,{children:\"main()\"}),\"\\uC758 \",(0,n.jsx)(e.code,{children:'getText2VoiceStream(\"\\uC548\\uB155\\uD558\\uC138\\uC694. \\uBC18\\uAC11\\uC2B5\\uB2C8\\uB2E4.\", output_file)'}),\" \\uBD80\\uBD84\\uC785\\uB2C8\\uB2E4.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\uADF8\\uB798\\uC11C \",(0,n.jsx)(e.code,{children:\"\\uC548\\uB155\\uD558\\uC138\\uC694. \\uBC18\\uAC11\\uC2B5\\uB2C8\\uB2E4.\"}),\" \\uD14D\\uC2A4\\uD2B8\\uB97C \\uC74C\\uC131\\uC73C\\uB85C \\uBCC0\\uD658\\uD569\\uB2C8\\uB2E4.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsx)(e.code,{className:\"language-bash code-highlight\",children:(0,n.jsx)(e.span,{className:\"code-line\",children:`$ python3 ex4_getText2VoiceStream.py\n`})})}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsx)(e.p,{children:\"\\uC544\\uB798\\uB294 \\uD130\\uBBF8\\uB110\\uC5D0\\uC11C \\uC2E4\\uD589\\uD55C \\uBAA8\\uC2B5\\uC785\\uB2C8\\uB2E4.\"}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\uD14D\\uC2A4\\uD2B8\\uB97C \\uC74C\\uC131\\uC73C\\uB85C \\uBCC0\\uD658\\uD558\\uC5EC \",(0,n.jsx)(e.code,{children:\"testtts.wav\"}),\" \\uD30C\\uC77C\\uC5D0 \\uC800\\uC7A5\\uD569\\uB2C8\\uB2E4.\"]}),`\n`]}),`\n`,(0,n.jsxs)(e.li,{children:[`\n`,(0,n.jsxs)(e.p,{children:[\"\\uADF8\\uB9AC\\uACE0 \\uC800\\uC7A5\\uB41C \",(0,n.jsx)(e.code,{children:\"testtts.wav\"}),\" \\uD30C\\uC77C\\uC744 \\uC7AC\\uC0DD\\uD558\\uACE0 \\uD504\\uB85C\\uADF8\\uB7A8\\uC774 \\uC885\\uB8CC\\uB429\\uB2C8\\uB2E4.\"]}),`\n`,(0,n.jsx)(p,{src:\"/images/codinypack-py/inside-python3/ex4_out1.png\",caption:\"\\uC608\\uC81C \\uC2E4\\uD589\",transparentBg:!0}),`\n`]}),`\n`]}),`\n`,(0,n.jsxs)(e.h3,{id:\"tip\",children:[(0,n.jsx)(e.a,{className:\"anchor\",href:\"#tip\",children:(0,n.jsx)(e.span,{className:\"icon icon-link\"})}),\"Tip!\"]}),`\n`,(0,n.jsxs)(e.ul,{children:[`\n`,(0,n.jsxs)(e.li,{children:[\"\\uD130\\uBBF8\\uB110\\uC5D0\\uC11C\\uB3C4 \",(0,n.jsx)(e.code,{children:\"testtts.wav\"}),\" \\uD30C\\uC77C\\uC744 \\uC7AC\\uC0DD\\uD560 \\uC218 \\uC788\\uC2B5\\uB2C8\\uB2E4.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\uC774\\uBBF8 \\uC608\\uC81C \\uD504\\uB85C\\uADF8\\uB7A8\\uC5D0\\uC11C \",(0,n.jsx)(e.code,{children:\"wav\"}),` \\uD30C\\uC77C\\uC744 \\uC7AC\\uC0DD\\uD588\\uC9C0\\uB9CC,\n\\uD130\\uBBF8\\uB110\\uC5D0\\uC11C `,(0,n.jsx)(e.code,{children:\"wav\"}),\" \\uD30C\\uC77C\\uC744 \\uC7AC\\uC0DD\\uD558\\uB294 \\uBC29\\uBC95\\uB3C4 \\uCC38\\uACE0\\uB85C \\uC54C\\uC544\\uB450\\uC2DC\\uBA74 \\uC88B\\uC744 \\uAC83 \\uAC19\\uC2B5\\uB2C8\\uB2E4.\"]}),`\n`,(0,n.jsxs)(e.li,{children:[\"\\uBC29\\uAE08 \\uD504\\uB85C\\uADF8\\uB7A8\\uC744 \\uC2E4\\uD589\\uD588\\uC73C\\uBBC0\\uB85C, \\uD604\\uC7AC \\uD3F4\\uB354\\uC5D0 \",(0,n.jsx)(e.code,{children:\"testtts.wav\"}),` \\uD30C\\uC77C\\uC774 \\uC788\\uC744 \\uAC83\\uC785\\uB2C8\\uB2E4.\n\\uB2E4\\uC74C\\uACFC \\uAC19\\uC774 \\uC2E4\\uD589\\uD558\\uBA74 `,(0,n.jsx)(e.code,{children:\"testtts.wav\"}),\" \\uD30C\\uC77C\\uC758 \\uC74C\\uC131\\uC774 \\uC2A4\\uD53C\\uCEE4\\uC5D0 \\uCD9C\\uB825\\uB429\\uB2C8\\uB2E4.\"]}),`\n`]}),`\n`,(0,n.jsx)(e.pre,{className:\"language-bash\",children:(0,n.jsx)(e.code,{className:\"language-bash code-highlight\",children:(0,n.jsx)(e.span,{className:\"code-line\",children:`$ aplay -q -D plughw:0 testtts.wav\n`})})}),`\n`,(0,n.jsx)(d,{exampleId:\"ex4\"}),`\n`,(0,n.jsx)(e.p,{children:\"End.\"})]})}}var R=S;function i(a,s){throw new Error(\"Expected \"+(s?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return b(C);})();\n;return Component;"},"_id":"codingpack-how-to-inside-python-ex4.mdx","_raw":{"sourceFilePath":"codingpack-how-to-inside-python-ex4.mdx","sourceFileName":"codingpack-how-to-inside-python-ex4.mdx","sourceFileDir":".","contentType":"mdx","flattenedPath":"codingpack-how-to-inside-python-ex4"},"type":"Post","url":"/post-frame/codingpack-how-to-inside-python-ex4","slug":"codingpack-how-to-inside-python-ex4"}},"__N_SSG":true}